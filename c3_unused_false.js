!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.c3=e()}(this,function(){"use strict";function l(R,D){function F(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+q)+", 0)"})}function X(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function k(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]}function M(t){var e,i,n=[];if(t.ticks)return t.ticks.apply(t,a);for(i=t.domain(),e=Math.ceil(i[0]);e<i[1];e++)n.push(e);return 0<n.length&&0<n[0]&&n.unshift(n[0]-(n[1]-n[0])),n}function H(){var t=j.copy(),e;return D.isCategory&&(e=j.domain(),t.domain([e[0],e[1]-1])),t}function z(t){var e=i?i(t):t;return void 0!==e?e:""}function B(t){if(f)return f;var r={h:11.5,w:5.5};return t.select("text").text(z).each(function(t){var e=this.getBoundingClientRect(),i=z(t),n=e.height,a=i?e.width/i.length:undefined;n&&a&&(r.h=n,r.w=a)}).text(""),f=r}function N(t){return D.withoutTransition?t:R.transition(t)}function Y(t){t.each(function(){function n(t,n){function a(t,e){o=undefined;for(var i=1;i<e.length;i++)if(" "===e.charAt(i)&&(o=i),r=e.substr(0,i+1),s=L.w*r.length,n<s)return a(t.concat(e.substr(0,o||i)),e.slice(o?o+1:i));return t.concat(e)}var e=z(t),r,o,s,i=[];return"[object Array]"===Object.prototype.toString.call(e)?e:((!n||n<=0)&&(n=G?95:D.isCategory?Math.ceil(c(u[1])-c(u[0]))-12:110),a(i,e+""))}function t(t,e){var i=L.h;return 0===e&&(i="left"===U||"right"===U?-((C[t.index]-1)*(L.h/2)-3):".71em"),i}function e(t){var e=j(t)+(J?0:q);return y[0]<e&&e<y[1]?W:0}function i(t){return t?0<t?"start":"end":"middle"}function a(t){return t?"rotate("+t+")":""}function r(t){return t?8*Math.sin(Math.PI*(t/180)):0}function o(t){return t?11.5-t/15*2.5*(0<t?1:-1):V}var s=Y.g=R.select(this),d=this.__chart__||j,c=this.__chart__=H(),u=K||M(c),l=s.selectAll(".tick").data(u,c),h=l.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),g=l.exit().remove(),f=N(l).style("opacity",1),p,_,x,y=j.rangeExtent?j.rangeExtent():k(j.range()),m=s.selectAll(".domain").data([0]),S=(m.enter().append("path").attr("class","domain"),N(m));h.append("line"),h.append("text");var w=h.select("line"),v=f.select("line"),b=h.select("text"),A=f.select("text");D.isCategory?(q=Math.ceil((c(1)-c(0))/2),_=J?0:q,x=J?q:0):q=_=0;var T,P,L=B(s.select(".tick")),C=[],V=Math.max(W,0)+Z,G="left"===U||"right"===U;(P=(T=l.select("text")).selectAll("tspan").data(function(t,e){var i=D.tickMultiline?n(t,D.tickWidth):[].concat(z(t));return C[e]=i.length,i.map(function(t){return{index:e,splitted:t}})})).enter().append("tspan"),P.exit().remove(),P.text(function(t){return t.splitted});var E=D.tickTextRotate;switch(U){case"bottom":p=F,w.attr("y2",W),b.attr("y",V),v.attr("x1",_).attr("x2",_).attr("y2",e),A.attr("x",0).attr("y",o(E)).style("text-anchor",i(E)).attr("transform",a(E)),P.attr("x",0).attr("dy",t).attr("dx",r(E)),S.attr("d","M"+y[0]+","+Q+"V0H"+y[1]+"V"+Q);break;case"top":p=F,w.attr("y2",-W),b.attr("y",-V),v.attr("x2",0).attr("y2",-W),A.attr("x",0).attr("y",-V),T.style("text-anchor","middle"),P.attr("x",0).attr("dy","0em"),S.attr("d","M"+y[0]+","+-Q+"V0H"+y[1]+"V"+-Q);break;case"left":p=X,w.attr("x2",-W),b.attr("x",-V),v.attr("x2",-W).attr("y1",x).attr("y2",x),A.attr("x",-V).attr("y",q),T.style("text-anchor","end"),P.attr("x",-V).attr("dy",t),S.attr("d","M"+-Q+","+y[0]+"H0V"+y[1]+"H"+-Q);break;case"right":p=X,w.attr("x2",W),b.attr("x",V),v.attr("x2",W).attr("y2",0),A.attr("x",V).attr("y",0),T.style("text-anchor","start"),P.attr("x",V).attr("dy",t),S.attr("d","M"+Q+","+y[0]+"H0V"+y[1]+"H"+Q)}if(c.rangeBand){var I=c,O=I.rangeBand()/2;d=c=function c(t){return I(t)+O}}else d.rangeBand?d=c:g.call(p,c);h.call(p,d),f.call(p,c)})}var j=R.scale.linear(),U="bottom",W=6,Q,Z=3,K=null,i,a,q=0,e=!0,J;return Q=(D=D||{}).withOuterTick?6:0,Y.scale=function(t){return arguments.length?(j=t,Y):j},Y.orient=function(t){return arguments.length?(U=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",Y):U},Y.tickFormat=function(t){return arguments.length?(i=t,Y):i},Y.tickCentered=function(t){return arguments.length?(J=t,Y):J},Y.tickOffset=function(){return q},Y.tickInterval=function(){var t,e;return(t=D.isCategory?2*q:(e=Y.g.select("path.domain").node().getTotalLength()-2*Q)/Y.g.selectAll("line").size())===Infinity?0:t},Y.ticks=function(){return arguments.length?(a=arguments,Y):a},Y.tickCulling=function(t){return arguments.length?(e=t,Y):e},Y.tickValues=function(t){if("function"==typeof t)e=function e(){return t(j.domain())};else{if(!arguments.length)return e;e=t}return Y},Y}function s(t){e.call(this,t)}function e(t){this.owner=t}function t(t,e){var i;Object.create?e.prototype=Object.create(t.prototype):((i=function i(){}).prototype=t.prototype,e.prototype=new i);return e.prototype.constructor=e}function i(t){var e=this.internal=new n(this);e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function a(e,i,n){Object.keys(e).forEach(function(t){i[t]=e[t].bind(n),0<Object.keys(e[t]).length&&a(e[t],i[t],n)})}(ft,this,this)}function n(t){var e=this;e.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):undefined,e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}var z={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L=function L(t){return t||0===t},h=function h(t){return"function"==typeof t},o=function o(t){return Array.isArray(t)},c=function c(t){return"string"==typeof t},A=function A(t){return void 0===t},F=function F(t){return void 0!==t},a=function a(t){return 10*Math.ceil(t/10)},r=function r(t){return Math.ceil(t)+.5},D=function D(t){return t[1]-t[0]},g=function g(t){return null==t||c(t)&&0===t.length||"object"===(void 0===t?"undefined":d(t))&&0===Object.keys(t).length},C=function C(t){return!pt.isEmpty(t)},B=function B(t,e,i){return F(t[e])?t[e]:i},u=function u(e,i){var n=!1;return Object.keys(e).forEach(function(t){e[t]===i&&(n=!0)}),n},_=function _(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},y=function y(t){var e=t.getBoundingClientRect(),i=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],n,a;return{x:i[0].x,y:Math.min(i[0].y,i[1].y),width:e.width,height:e.height}},f;t(e,s),s.prototype.init=function p(){var t=this.owner,e=t.config,i=t.main;t.axes.x=i.append("g").attr("class",z.axis+" "+z.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",z.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=i.append("g").attr("class",z.axis+" "+z.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",z.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=i.append("g").attr("class",z.axis+" "+z.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",z.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},s.prototype.getXAxis=function x(t,e,i,n,a,r,o){var s=this.owner,d=s.config,c={isCategory:s.isCategorized(),withOuterTick:a,tickMultiline:d.axis_x_tick_multiline,tickWidth:d.axis_x_tick_width,tickTextRotate:o?0:d.axis_x_tick_rotate,withoutTransition:r},u=l(s.d3,c).scale(t).orient(e);return s.isTimeSeries()&&n&&"function"!=typeof n&&(n=n.map(function(t){return s.parseDate(t)})),u.tickFormat(i).tickValues(n),s.isCategorized()&&(u.tickCentered(d.axis_x_tick_centered),g(d.axis_x_tick_culling)&&(d.axis_x_tick_culling=!1)),u},s.prototype.updateXAxisTickValues=function m(t,e){var i=this.owner,n=i.config,a;return(n.axis_x_tick_fit||n.axis_x_tick_count)&&(a=this.generateTickValues(i.mapTargetsToUniqueXs(t),n.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(a):(i.xAxis.tickValues(a),i.subXAxis.tickValues(a)),a},s.prototype.getYAxis=function S(t,e,i,n,a,r,o){var s=this.owner,d=s.config,c={withOuterTick:a,withoutTransition:r,tickTextRotate:o?0:d.axis_y_tick_rotate},u=l(s.d3,c).scale(t).orient(e).tickFormat(i);return s.isTimeSeriesY()?u.ticks(s.d3.time[d.axis_y_tick_time_value],d.axis_y_tick_time_interval):u.tickValues(n),u},s.prototype.getId=function w(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},s.prototype.getXAxisTickFormat=function v(){var e=this.owner,i=e.config,n=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(t){return t<0?t.toFixed(0):t};return i.axis_x_tick_format&&(h(i.axis_x_tick_format)?n=i.axis_x_tick_format:e.isTimeSeries()&&(n=function n(t){return t?e.axisTimeFormat(i.axis_x_tick_format)(t):""})),h(n)?function(t){return n.call(e,t)}:n},s.prototype.getTickValues=function b(t,e){return t||(e?e.tickValues():undefined)},s.prototype.getXAxisTickValues=function T(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},s.prototype.getYAxisTickValues=function P(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},s.prototype.getY2AxisTickValues=function V(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},s.prototype.getLabelOptionByAxisId=function G(t){var e,i=this.owner.config,n;return"y"===t?n=i.axis_y_label:"y2"===t?n=i.axis_y2_label:"x"===t&&(n=i.axis_x_label),n},s.prototype.getLabelText=function E(t){var e=this.getLabelOptionByAxisId(t);return c(e)?e:e?e.text:null},s.prototype.setLabelText=function I(t,e){var i,n=this.owner.config,a=this.getLabelOptionByAxisId(t);c(a)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):a&&(a.text=e)},s.prototype.getLabelPosition=function O(t,e){var i=this.getLabelOptionByAxisId(t),n=i&&"object"===(void 0===i?"undefined":d(i))&&i.position?i.position:e;return{isInner:0<=n.indexOf("inner"),isOuter:0<=n.indexOf("outer"),isLeft:0<=n.indexOf("left"),isCenter:0<=n.indexOf("center"),isRight:0<=n.indexOf("right"),isTop:0<=n.indexOf("top"),isMiddle:0<=n.indexOf("middle"),isBottom:0<=n.indexOf("bottom")}},s.prototype.getXAxisLabelPosition=function R(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},s.prototype.getYAxisLabelPosition=function X(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},s.prototype.getY2AxisLabelPosition=function k(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},s.prototype.getLabelPositionById=function M(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},s.prototype.textForXAxisLabel=function H(){return this.getLabelText("x")},s.prototype.textForYAxisLabel=function N(){return this.getLabelText("y")},s.prototype.textForY2AxisLabel=function Y(){return this.getLabelText("y2")},s.prototype.xForAxisLabel=function j(t,e){var i=this.owner;return t?e.isLeft?0:e.isCenter?i.width/2:i.width:e.isBottom?-i.height:e.isMiddle?-i.height/2:0},s.prototype.dxForAxisLabel=function U(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},s.prototype.textAnchorForAxisLabel=function W(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},s.prototype.xForXAxisLabel=function Q(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},s.prototype.xForYAxisLabel=function Z(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},s.prototype.xForY2AxisLabel=function K(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},s.prototype.dxForXAxisLabel=function q(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},s.prototype.dxForYAxisLabel=function J(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},s.prototype.dxForY2AxisLabel=function $(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},s.prototype.dyForXAxisLabel=function tt(){var t,e=this.owner.config,i=this.getXAxisLabelPosition();return e.axis_rotated?i.isInner?"1.2em":-25-this.getMaxTickWidth("x"):i.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},s.prototype.dyForYAxisLabel=function et(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},s.prototype.dyForY2AxisLabel=function it(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},s.prototype.textAnchorForXAxisLabel=function nt(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},s.prototype.textAnchorForYAxisLabel=function at(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},s.prototype.textAnchorForY2AxisLabel=function rt(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},s.prototype.getMaxTickWidth=function ot(t,e){var i=this.owner,n=i.config,a=0,r,o,s,d,c;return e&&i.currentMaxTickWidths[t]||(i.svg&&(r=i.filterTargetsToShow(i.data.targets),"y"===t?(o=i.y.copy().domain(i.getYDomain(r,"y")),s=this.getYAxis(o,i.yOrient,n.axis_y_tick_format,i.yAxisTickValues,!1,!0,!0)):"y2"===t?(o=i.y2.copy().domain(i.getYDomain(r,"y2")),s=this.getYAxis(o,i.y2Orient,n.axis_y2_tick_format,i.y2AxisTickValues,!1,!0,!0)):(o=i.x.copy().domain(i.getXDomain(r)),s=this.getXAxis(o,i.xOrient,i.xAxisTickFormat,i.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(r,s)),(c=(d=i.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0)).append("g").call(s).each(function(){i.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();a<t.width&&(a=t.width)}),d.remove()})),i.currentMaxTickWidths[t]=a<=0?i.currentMaxTickWidths[t]:a),i.currentMaxTickWidths[t]},s.prototype.updateLabels=function st(t){var e=this.owner,i=e.main.select("."+z.axisX+" ."+z.axisXLabel),n=e.main.select("."+z.axisY+" ."+z.axisYLabel),a=e.main.select("."+z.axisY2+" ."+z.axisY2Label);(t?i.transition():i).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?n.transition():n).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?a.transition():a).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},s.prototype.getPadding=function dt(t,e,i,n){var a="number"==typeof t?t:t[e];return L(a)?"ratio"===t.unit?t[e]*n:this.convertPixelsToAxisPadding(a,n):i},s.prototype.convertPixelsToAxisPadding=function ct(t,e){var i=this.owner,n;return e*(t/(i.config.axis_rotated?i.width:i.height))},s.prototype.generateTickValues=function ut(t,e,i){var n=t,a,r,o,s,d,c,u;if(e)if(1===(a=h(e)?e():e))n=[t[0]];else if(2===a)n=[t[0],t[t.length-1]];else if(2<a){for(s=a-2,r=t[0],d=((o=t[t.length-1])-r)/(s+1),n=[r],c=0;c<s;c++)u=+r+d*(c+1),n.push(i?new Date(u):u);n.push(o)}return i||(n=n.sort(function(t,e){return t-e})),n},s.prototype.generateTransitions=function lt(t){var e,i=this.owner.axes;return{axisX:t?i.x.transition().duration(t):i.x,axisY:t?i.y.transition().duration(t):i.y,axisY2:t?i.y2.transition().duration(t):i.y2,axisSubX:t?i.subx.transition().duration(t):i.subx}},s.prototype.redraw=function ht(t,e){var i=this.owner;i.axes.x.style("opacity",e?0:1),i.axes.y.style("opacity",e?0:1),i.axes.y2.style("opacity",e?0:1),i.axes.subx.style("opacity",e?0:1),t.axisX.call(i.xAxis),t.axisY.call(i.yAxis),t.axisY2.call(i.y2Axis),t.axisSubX.call(i.subXAxis)};var gt={version:"0.4.15"},ft,pt,_t;return gt.generate=function(t){return new i(t)},gt.chart={fn:i.prototype,internal:{fn:n.prototype,axis:{fn:s.prototype}}},ft=gt.chart.fn,pt=gt.chart.internal.fn,_t=gt.chart.internal.axis.fn,pt.beforeInit=function(){},pt.afterInit=function(){},pt.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},pt.initParams=function(){var t=this,e=t.d3,i=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=i.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=i.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=i.axis_rotated?"left":"bottom",t.yOrient=i.axis_rotated?i.axis_y_inner?"top":"bottom":i.axis_y_inner?"right":"left",t.y2Orient=i.axis_rotated?i.axis_y2_inner?"bottom":"top":i.axis_y2_inner?"left":"right",t.subXOrient=i.axis_rotated?"left":"bottom",t.isLegendRight="right"===i.legend_position,t.isLegendInset="inset"===i.legend_position,t.isLegendTop="top-left"===i.legend_inset_anchor||"top-right"===i.legend_inset_anchor,t.isLegendLeft="top-left"===i.legend_inset_anchor||"bottom-left"===i.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=i.axis_rotated&&!i.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=undefined,t.axes.subx=e.selectAll([])},pt.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},pt.initWithData=function(t){var e=this,i=e.d3,n=e.config,a,r,o=!0;e.axis=new s(e),e.initPie&&e.initPie(),e.initBrush&&e.initBrush(),e.initZoom&&e.initZoom(),n.bindto?"function"==typeof n.bindto.node?e.selectChart=n.bindto:e.selectChart=i.select(n.bindto):e.selectChart=i.selectAll([]),e.selectChart.empty()&&(e.selectChart=i.select(document.createElement("div")).style("opacity",0),e.observeInserted(e.selectChart),o=!1),e.selectChart.html("").classed("c3",!0),e.data.xs={},e.data.targets=e.convertDataToTargets(t),n.data_filter&&(e.data.targets=e.data.targets.filter(n.data_filter)),n.data_hide&&e.addHiddenTargetIds(!0===n.data_hide?e.mapToIds(e.data.targets):n.data_hide),n.legend_hide&&e.addHiddenLegendIds(!0===n.legend_hide?e.mapToIds(e.data.targets):n.legend_hide),e.hasType("gauge")&&(n.legend_show=!1),e.updateSizes(),e.updateScales(),e.x.domain(i.extent(e.getXDomain(e.data.targets))),e.y.domain(e.getYDomain(e.data.targets,"y")),e.y2.domain(e.getYDomain(e.data.targets,"y2")),e.subX.domain(e.x.domain()),e.subY.domain(e.y.domain()),e.subY2.domain(e.y2.domain()),e.orgXDomain=e.x.domain(),e.brush&&e.brush.scale(e.subX),n.zoom_enabled&&e.zoom.scale(e.x),e.svg=e.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return n.onmouseover.call(e)}).on("mouseleave",function(){return n.onmouseout.call(e)}),e.config.svg_classname&&e.svg.attr("class",e.config.svg_classname),a=e.svg.append("defs"),e.clipChart=e.appendClip(a,e.clipId),e.clipXAxis=e.appendClip(a,e.clipIdForXAxis),e.clipYAxis=e.appendClip(a,e.clipIdForYAxis),e.clipGrid=e.appendClip(a,e.clipIdForGrid),e.clipSubchart=e.appendClip(a,e.clipIdForSubchart),e.updateSvgSize(),r=e.main=e.svg.append("g").attr("transform",e.getTranslate("main")),e.initSubchart&&e.initSubchart(),e.initTooltip&&e.initTooltip(),e.initLegend&&e.initLegend(),e.initTitle&&e.initTitle(),r.append("text").attr("class",z.text+" "+z.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),e.initRegion(),e.initGrid(),r.append("g").attr("clip-path",e.clipPath).attr("class",z.chart),n.grid_lines_front&&e.initGridLines(),e.initEventRect(),e.initChartElements(),r.insert("rect",n.zoom_privileged?null:"g."+z.regions).attr("class",z.zoomRect).attr("width",e.width).attr("height",e.height).style("opacity",0).on("dblclick.zoom",null),n.axis_x_extent&&e.brush.extent(e.getDefaultExtent()),e.axis.init(),e.updateTargets(e.data.targets),o&&(e.updateDimension(),e.config.oninit.call(e),e.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),e.bindResize(),e.api.element=e.selectChart.node()},pt.smoothLines=function(t,e){var r=this;"grid"===e&&t.each(function(){var t=r.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),n=t.attr("y1"),a=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(n),y2:Math.ceil(a)})})},pt.updateSizes=function(){var t=this,e=t.config,i=t.legend?t.getLegendHeight():0,n=t.legend?t.getLegendWidth():0,a=t.isLegendRight||t.isLegendInset?0:i,r=t.hasArcType(),o=e.axis_rotated||r?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!r?e.subchart_size_height+o:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:r?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+a+t.getCurrentPaddingBottom(),left:s+(r?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:r?0:t.getCurrentPaddingRight(),bottom:o+s+a+t.getCurrentPaddingBottom(),left:r?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+a,left:t.rotated_padding_left}:{top:t.currentHeight-s-a,right:NaN,bottom:o+a,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(i,n),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?n+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&r&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},pt.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},pt.showTargets=function(){var e=this;e.svg.selectAll("."+z.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},pt.redraw=function(t,e){var i=this,n=i.main,a=i.d3,r=i.config,o=i.getShapeIndices(i.isAreaType),s=i.getShapeIndices(i.isBarType),d=i.getShapeIndices(i.isLineType),c,u,l,h,g,f,p,_,x,y,m,S,w,v=i.hasArcType(),b,A,T,P,L,C,V,G,E,I,O=i.filterTargetsToShow(i.data.targets),R,D,F,X,k=i.xv.bind(i),M,H;if(c=B(t=t||{},"withY",!0),u=B(t,"withSubchart",!0),l=B(t,"withTransition",!0),f=B(t,"withTransform",!1),p=B(t,"withUpdateXDomain",!1),_=B(t,"withUpdateOrgXDomain",!1),x=B(t,"withTrimXDomain",!0),w=B(t,"withUpdateXAxis",p),y=B(t,"withLegend",!1),m=B(t,"withEventRect",!0),S=B(t,"withDimension",!0),h=B(t,"withTransitionForExit",l),g=B(t,"withTransitionForAxis",l),C=l?r.transition_duration:0,V=h?C:0,G=g?C:0,e=e||i.axis.generateTransitions(G),y&&r.legend_show?i.updateLegend(i.mapToIds(i.data.targets),t,e):S&&i.updateDimension(!0),i.isCategorized()&&0===O.length&&i.x.domain([0,i.axes.x.selectAll(".tick").size()]),O.length?(i.updateXDomain(O,p,_,x),r.axis_x_tick_values||(R=i.axis.updateXAxisTickValues(O))):(i.xAxis.tickValues([]),i.subXAxis.tickValues([])),r.zoom_rescale&&!t.flow&&(X=i.x.orgDomain()),i.y.domain(i.getYDomain(O,"y",X)),i.y2.domain(i.getYDomain(O,"y2",X)),!r.axis_y_tick_values&&r.axis_y_tick_count&&i.yAxis.tickValues(i.axis.generateTickValues(i.y.domain(),r.axis_y_tick_count)),!r.axis_y2_tick_values&&r.axis_y2_tick_count&&i.y2Axis.tickValues(i.axis.generateTickValues(i.y2.domain(),r.axis_y2_tick_count)),i.axis.redraw(e,v),i.axis.updateLabels(l),(p||w)&&O.length)if(r.axis_x_tick_culling&&R){for(D=1;D<R.length;D++)if(R.length/D<r.axis_x_tick_culling_max){F=D;break}i.svg.selectAll("."+z.axisX+" .tick text").each(function(t){var e=R.indexOf(t);0<=e&&a.select(this).style("display",e%F?"none":"block")})}else i.svg.selectAll("."+z.axisX+" .tick text").style("display","block");b=i.generateDrawArea?i.generateDrawArea(o,!1):undefined,A=i.generateDrawBar?i.generateDrawBar(s):undefined,T=i.generateDrawLine?i.generateDrawLine(d,!1):undefined,P=i.generateXYForText(o,s,d,!0),L=i.generateXYForText(o,s,d,!1),c&&(i.subY.domain(i.getYDomain(O,"y")),i.subY2.domain(i.getYDomain(O,"y2"))),i.updateXgridFocus(),n.select("text."+z.text+"."+z.empty).attr("x",i.width/2).attr("y",i.height/2).text(r.data_empty_label_text).transition().style("opacity",O.length?0:1),i.updateGrid(C),i.updateRegion(C),i.updateBar(V),i.updateLine(V),i.updateArea(V),i.updateCircle(),i.hasDataLabel()&&i.updateText(V),i.redrawTitle&&i.redrawTitle(),i.redrawArc&&i.redrawArc(C,V,f),i.redrawSubchart&&i.redrawSubchart(u,e,C,V,o,s,d),n.selectAll("."+z.selectedCircles).filter(i.isBarType.bind(i)).selectAll("circle").remove(),r.interaction_enabled&&!t.flow&&m&&(i.redrawEventRect(),i.updateZoom&&i.updateZoom()),i.updateCircleY(),M=(i.config.axis_rotated?i.circleY:i.circleX).bind(i),H=(i.config.axis_rotated?i.circleX:i.circleY).bind(i),t.flow&&(I=i.generateFlow({targets:O,flow:t.flow,duration:t.flow.duration,drawBar:A,drawLine:T,drawArea:b,cx:M,cy:H,xv:k,xForText:P,yForText:L})),(C||I)&&i.isTabVisible()?a.transition().duration(C).each(function(){var e=[];[i.redrawBar(A,!0),i.redrawLine(T,!0),i.redrawArea(b,!0),i.redrawCircle(M,H,!0),i.redrawText(P,L,t.flow,!0),i.redrawRegion(!0),i.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),E=i.generateWait(),e.forEach(function(t){E.add(t)})}).call(E,function(){I&&I(),r.onrendered&&r.onrendered.call(i)}):(i.redrawBar(A),i.redrawLine(T),i.redrawArea(b),i.redrawCircle(M,H),i.redrawText(P,L,t.flow),i.redrawRegion(),i.redrawGrid(),r.onrendered&&r.onrendered.call(i)),i.mapToIds(i.data.targets).forEach(function(t){i.withoutFadeIn[t]=!0})},pt.updateAndRedraw=function(t){var e=this,i=e.config,n;(t=t||{}).withTransition=B(t,"withTransition",!0),t.withTransform=B(t,"withTransform",!1),t.withLegend=B(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=B(t,"withTransitionForTransform",t.withTransition),e.updateSizes(),t.withLegend&&i.legend_show||(n=e.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),e.updateScales(),e.updateSvgSize(),e.transformAll(t.withTransitionForTransform,n)),e.redraw(t,n)},pt.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},pt.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},pt.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},pt.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||C(e.data_xs))},pt.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},pt.getTranslate=function(t){var e=this,i=e.config,n,a;return"main"===t?(n=r(e.margin.left),a=r(e.margin.top)):"context"===t?(n=r(e.margin2.left),a=r(e.margin2.top)):"legend"===t?(n=e.margin3.left,a=e.margin3.top):"x"===t?(n=0,a=i.axis_rotated?0:e.height):"y"===t?(n=0,a=i.axis_rotated?e.height:0):"y2"===t?(n=i.axis_rotated?0:e.width,a=i.axis_rotated?1:0):"subx"===t?(n=0,a=i.axis_rotated?0:e.height2):"arc"===t&&(n=e.arcWidth/2,a=e.arcHeight/2),"translate("+n+","+a+")"},pt.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},pt.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},pt.opacityForCircle=function(t){var e,i=(h(this.config.point_show)?this.config.point_show(t):this.config.point_show)?1:0;return L(t.value)?this.isScatterType(t)?.5:i:0},pt.opacityForText=function(){return this.hasDataLabel()?1:0},pt.xx=function(t){return t?this.x(t.x):null},pt.xv=function(t){var e=this,i=t.value;return e.isTimeSeries()?i=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(i=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(i))},pt.yv=function(t){var e=this,i=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(i(t.value))},pt.subxx=function(t){return t?this.subX(t.x):null},pt.transformMain=function(t,e){var i=this,n,a,r;e&&e.axisX?n=e.axisX:(n=i.main.select("."+z.axisX),t&&(n=n.transition())),e&&e.axisY?a=e.axisY:(a=i.main.select("."+z.axisY),t&&(a=a.transition())),e&&e.axisY2?r=e.axisY2:(r=i.main.select("."+z.axisY2),t&&(r=r.transition())),(t?i.main.transition():i.main).attr("transform",i.getTranslate("main")),n.attr("transform",i.getTranslate("x")),a.attr("transform",i.getTranslate("y")),r.attr("transform",i.getTranslate("y2")),i.main.select("."+z.chartArcs).attr("transform",i.getTranslate("arc"))},
pt.transformAll=function(t,e){var i=this;i.transformMain(t,e),i.config.subchart_show&&i.transformContext(t,e),i.legend&&i.transformLegend(t)},pt.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+z.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},pt.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},pt.observeInserted=function(e){var i=this,n;"undefined"!=typeof MutationObserver?(n=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&t.previousSibling&&(n.disconnect(),i.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})})).observe(e.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},pt.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){t.resizeTimeout!==undefined&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),window.attachEvent)window.attachEvent("onresize",t.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",t.resizeFunction,!1);else{var i=window.onresize;i?i.add&&i.remove||(i=t.generateResize()).add(window.onresize):i=t.generateResize(),i.add(t.resizeFunction),window.onresize=i}},pt.generateResize=function(){function t(){i.forEach(function(t){t()})}var i=[];return t.add=function(t){i.push(t)},t.remove=function(t){for(var e=0;e<i.length;e++)if(i[e]===t){i.splice(e,1);break}},t},pt.endall=function(t,e){var i=0;t.each(function(){++i}).each("end",function(){--i||e.apply(this,arguments)})},pt.generateWait=function(){var a=[],t;return(t=function t(t,e){var n=setInterval(function(){var i=0;a.forEach(function(t){if(t.empty())i+=1;else try{t.transition()}catch(e){i+=1}}),i===a.length&&(clearInterval(n),e&&e())},10)}).add=function(t){a.push(t)},t},pt.parseDate=function(t){var e=this,i;return t instanceof Date?i=t:"string"==typeof t?i=e.dataTimeFormat(e.config.data_xFormat).parse(t):"object"===(void 0===t?"undefined":d(t))?i=new Date(+t):"number"!=typeof t||isNaN(t)||(i=new Date(+t)),i&&!isNaN(+i)||window.console.error("Failed to parse x '"+t+"' to Date object"),i},pt.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),!document[t]},pt.isValue=L,pt.isFunction=h,pt.isString=c,pt.isUndefined=A,pt.isDefined=F,pt.ceil10=a,pt.asHalfPixel=r,pt.diffDomain=D,pt.isEmpty=g,pt.notEmpty=C,pt.notEmpty=C,pt.getOption=B,pt.hasValue=u,pt.sanitise=_,pt.getPathBox=y,pt.CLASS=z,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n,a=function a(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return(n=function n(){}).prototype=this.prototype,a.prototype=new n,a}),"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,i){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=i},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathSegMovetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=i},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=i},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=i},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=i},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,i,n,a,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=i,this._x1=n,this._y1=a,this._x2=r,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function xt(){return this._x1},set:function yt(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function xt(){return this._y1},set:function yt(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function xt(){return this._x2},set:function yt(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function xt(){return this._y2},set:function yt(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,i,n,a,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=i,this._x1=n,this._y1=a,this._x2=r,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function xt(){return this._x1},set:function yt(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function xt(){return this._y1},set:function yt(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function xt(){return this._x2},set:function yt(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function xt(){return this._y2},set:function yt(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,i,n,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=i,this._x1=n,this._y1=a},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function xt(){return this._x1},set:function yt(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function xt(){return this._y1},set:function yt(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,i,n,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=i,this._x1=n,this._y1=a},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function xt(){return this._x1},set:function yt(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function xt(){return this._y1},set:function yt(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,i,n,a,r,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=i,this._r1=n,this._r2=a,this._angle=r,this._largeArcFlag=o,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function xt(){return this._r1},set:function yt(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function xt(){return this._r2},set:function yt(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function xt(){return this._angle},set:function yt(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function xt(){return this._largeArcFlag},set:function yt(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function xt(){return this._sweepFlag},set:function yt(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,i,n,a,r,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=i,this._r1=n,this._r2=a,this._angle=r,this._largeArcFlag=o,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function xt(){return this._r1},set:function yt(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function xt(){return this._r2},set:function yt(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function xt(){return this._angle},set:function yt(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function xt(){return this._largeArcFlag},set:function yt(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function xt(){return this._sweepFlag},set:function yt(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=i,this._x2=n,this._y2=a},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function xt(){return this._x2},set:function yt(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function xt(){return this._y2},set:function yt(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=i,this._x2=n,this._y2=a},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function xt(){return this._x2},set:function yt(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function xt(){return this._y2},set:function yt(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function xt(){return this._x},set:function yt(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function xt(){return this._y},set:function yt(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,i,n,a,r){return new window.SVGPathSegCurvetoCubicAbs(undefined,t,e,i,n,a,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,i,n,a,r){return new window.SVGPathSegCurvetoCubicRel(undefined,t,e,i,n,a,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticRel(undefined,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,i,n,a,r,o){return new window.SVGPathSegArcAbs(undefined,t,e,i,n,a,r,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,i,n,a,r,o){return new window.SVGPathSegArcRel(undefined,t,e,i,n,a,r,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(t===undefined||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var i=e.pathSegList.numberOfItems-1;if(i<=0)return 0;do{if(e.pathSegList.removeItem(i),t>e.getTotalLength())break;i--}while(0<i);return i})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function xt(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function xt(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function xt(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function xt(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function xt(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},
window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),((this._list[e]=t)._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",i=!0;return t.forEach(function(t){i?(i=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var n=this,e,i;(e=function e(){this.pathSegList=[]}).prototype.appendSegment=function(t){this.pathSegList.push(t)},(i=function i(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()}).prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||"0"<=t&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,i=1,n=0,a=1,r=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,a=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))return undefined;for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var d=this._currentIndex-1,c=1;s<=d;)e+=c*(this._string.charAt(d--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return undefined;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)i*=10,n+=(this._string.charAt(this._currentIndex)-"0")/i,this._currentIndex+=1}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return undefined;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+n;return u*=a,t&&(u*=Math.pow(10,r*t)),o==this._currentIndex?undefined:(this._skipOptionalSpacesOrDelimiter(),u)},i.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return undefined;var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return undefined;t=!0}return this._skipOptionalSpacesOrDelimiter(),t},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],e=this._pathSegTypeFromChar(t);if(e==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((e=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=e){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(n);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(n,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(n,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(n,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(n,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var a=new e,r=new i(t);if(!r.initialCommandIsMoveTo())return[];for(;r.hasMoreData();){var o=r.parseSegment();if(!o)return[];a.appendSegment(o)}return a.pathSegList}),ft.axis=function(){},ft.axis.labels=function(e){var i=this.internal;arguments.length&&(Object.keys(e).forEach(function(t){i.axis.setLabelText(t,e[t])}),i.axis.updateLabels())},ft.axis.max=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_max,y:i.axis_y_max,y2:i.axis_y2_max};"object"===(void 0===t?"undefined":d(t))?(L(t.x)&&(i.axis_x_max=t.x),L(t.y)&&(i.axis_y_max=t.y),L(t.y2)&&(i.axis_y2_max=t.y2)):i.axis_y_max=i.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},ft.axis.min=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_min,y:i.axis_y_min,y2:i.axis_y2_min};"object"===(void 0===t?"undefined":d(t))?(L(t.x)&&(i.axis_x_min=t.x),L(t.y)&&(i.axis_y_min=t.y),L(t.y2)&&(i.axis_y2_min=t.y2)):i.axis_y_min=i.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},ft.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};F(t.max)&&this.axis.max(t.max),F(t.min)&&this.axis.min(t.min)},ft.category=function(t,e){var i=this.internal,n=i.config;return 1<arguments.length&&(n.axis_x_categories[t]=e,i.redraw()),n.axis_x_categories[t]},ft.categories=function(t){var e=this.internal,i=e.config;return arguments.length&&(i.axis_x_categories=t,e.redraw()),i.axis_x_categories},ft.resize=function(t){var e,i=this.internal.config;i.size_width=t?t.width:null,i.size_height=t?t.height:null,this.flush()},ft.flush=function(){var t;this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},ft.destroy=function(){var e=this.internal;if(window.clearInterval(e.intervalForObserveInserted),e.resizeTimeout!==undefined&&window.clearTimeout(e.resizeTimeout),window.detachEvent)window.detachEvent("onresize",e.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeFunction);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},ft.color=function(t){var e;return this.internal.color(t)},ft.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return 0<=[].concat(e).indexOf(t.id)})},ft.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},ft.data.values=function(t){var e,i=null;return t&&(i=(e=this.data(t))[0]?e[0].values.map(function(t){return t.value}):null),i},ft.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},ft.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},ft.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},ft.flow=function(t){var a=this.internal,r,e,o=[],i=a.getMaxDataCount(),n,s,d,c,u=0,l=0,h,g;if(t.json)e=a.convertJsonToData(t.json,t.keys);else if(t.rows)e=a.convertRowsToData(t.rows);else{if(!t.columns)return;e=a.convertColumnsToData(t.columns)}r=a.convertDataToTargets(e,!0),a.data.targets.forEach(function(t){var e=!1,i,n;for(i=0;i<r.length;i++)if(t.id===r[i].id){for(e=!0,t.values[t.values.length-1]&&(l=t.values[t.values.length-1].index+1),u=r[i].values.length,n=0;n<u;n++)r[i].values[n].index=l+n,a.isTimeSeries()||(r[i].values[n].x=l+n);t.values=t.values.concat(r[i].values),r.splice(i,1);break}e||o.push(t.id)}),a.data.targets.forEach(function(t){var e,i;for(e=0;e<o.length;e++)if(t.id===o[e])for(l=t.values[t.values.length-1].index+1,i=0;i<u;i++)t.values.push({id:t.id,index:l+i,x:a.isTimeSeries()?a.getOtherTargetX(l+i):l+i,value:null})}),a.data.targets.length&&r.forEach(function(t){var e,i=[];for(e=a.data.targets[0].values[0].index;e<l;e++)i.push({id:t.id,index:e,x:a.isTimeSeries()?a.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=l,a.isTimeSeries()||(t.x+=l)}),t.values=i.concat(t.values)}),a.data.targets=a.data.targets.concat(r),n=a.getMaxDataCount(),c=(d=a.data.targets[0]).values[0],F(t.to)?(u=0,g=a.isTimeSeries()?a.parseDate(t.to):t.to,d.values.forEach(function(t){t.x<g&&u++})):F(t.length)&&(u=t.length),i?1===i&&a.isTimeSeries()&&(h=(d.values[d.values.length-1].x-c.x)/2,s=[new Date(+c.x-h),new Date(+c.x+h)],a.updateXDomain(null,!0,!0,!1,s)):(h=a.isTimeSeries()?1<d.values.length?d.values[d.values.length-1].x-c.x:c.x-a.getXDomain(a.data.targets)[0]:1,s=[c.x-h,c.x],a.updateXDomain(null,!0,!0,!1,s)),a.updateTargets(a.data.targets),a.redraw({flow:{index:c.index,length:u,duration:L(t.duration)?t.duration:a.config.transition_duration,done:t.done,orgDataCount:i},withLegend:!0,withTransition:1<i,withTrimXDomain:!1,withUpdateXAxis:!0})},pt.generateFlow=function(E){var I=this,O=I.config,R=I.d3;return function(){var t=E.targets,e=E.flow,a=E.drawBar,r=E.drawLine,o=E.drawArea,s=E.cx,d=E.cy,c=E.xv,u=E.xForText,l=E.yForText,i=E.duration,n,h=1,g,f=e.index,p=e.length,_=I.getValueOnIndex(I.data.targets[0].values,f),x=I.getValueOnIndex(I.data.targets[0].values,f+p),y=I.x.domain(),m,S=e.duration||i,w=e.done||function(){},v=I.generateWait(),b=I.xgrid||R.selectAll([]),A=I.xgridLines||R.selectAll([]),T=I.mainRegion||R.selectAll([]),P=I.mainText||R.selectAll([]),L=I.mainBar||R.selectAll([]),C=I.mainLine||R.selectAll([]),V=I.mainArea||R.selectAll([]),G=I.mainCircle||R.selectAll([]);I.flowing=!0,I.data.targets.forEach(function(t){t.values.splice(0,p)}),m=I.updateXDomain(t,!0,!0),I.updateXGrid&&I.updateXGrid(!0),e.orgDataCount?n=1===e.orgDataCount||(_&&_.x)===(x&&x.x)?I.x(y[0])-I.x(m[0]):I.isTimeSeries()?I.x(y[0])-I.x(m[0]):I.x(_.x)-I.x(x.x):1!==I.data.targets[0].values.length?n=I.x(y[0])-I.x(m[0]):I.isTimeSeries()?(_=I.getValueOnIndex(I.data.targets[0].values,0),x=I.getValueOnIndex(I.data.targets[0].values,I.data.targets[0].values.length-1),n=I.x(_.x)-I.x(x.x)):n=D(m)/2,h=D(y)/D(m),g="translate("+n+",0) scale("+h+",1)",I.hideXGridFocus(),R.transition().ease("linear").duration(S).each(function(){v.add(I.axes.x.transition().call(I.xAxis)),v.add(L.transition().attr("transform",g)),v.add(C.transition().attr("transform",g)),v.add(V.transition().attr("transform",g)),v.add(G.transition().attr("transform",g)),v.add(P.transition().attr("transform",g)),v.add(T.filter(I.isRegionOnX).transition().attr("transform",g)),v.add(b.transition().attr("transform",g)),v.add(A.transition().attr("transform",g))}).call(v,function(){var t,e=[],i=[],n=[];if(p){for(t=0;t<p;t++)e.push("."+z.shape+"-"+(f+t)),i.push("."+z.text+"-"+(f+t)),n.push("."+z.eventRect+"-"+(f+t));I.svg.selectAll("."+z.shapes).selectAll(e).remove(),I.svg.selectAll("."+z.texts).selectAll(i).remove(),I.svg.selectAll("."+z.eventRects).selectAll(n).remove(),I.svg.select("."+z.xgrid).remove()}b.attr("transform",null).attr(I.xgridAttr),A.attr("transform",null),A.select("line").attr("x1",O.axis_rotated?0:c).attr("x2",O.axis_rotated?I.width:c),A.select("text").attr("x",O.axis_rotated?I.width:0).attr("y",c),L.attr("transform",null).attr("d",a),C.attr("transform",null).attr("d",r),V.attr("transform",null).attr("d",o),G.attr("transform",null).attr("cx",s).attr("cy",d),P.attr("transform",null).attr("x",u).attr("y",l).style("fill-opacity",I.opacityForText.bind(I)),T.attr("transform",null),T.select("rect").filter(I.isRegionOnX).attr("x",I.regionX.bind(I)).attr("width",I.regionWidth.bind(I)),O.interaction_enabled&&I.redrawEventRect(),w(),I.flowing=!1})}},ft.focus=function(e){var t=this.internal,i;e=t.mapToTargetIds(e),i=t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))),this.revert(),this.defocus(),i.classed(z.focused,!0).classed(z.defocused,!1),t.hasArcType()&&t.expandArc(e),t.toggleFocusLegend(e,!0),t.focusedTargetIds=e,t.defocusedTargetIds=t.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},ft.defocus=function(e){var t=this.internal,i;e=t.mapToTargetIds(e),(i=t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t)))).classed(z.focused,!1).classed(z.defocused,!0),t.hasArcType()&&t.unexpandArc(e),t.toggleFocusLegend(e,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),t.defocusedTargetIds=e},ft.revert=function(t){var e=this.internal,i;t=e.mapToTargetIds(t),(i=e.svg.selectAll(e.selectorTargets(t))).classed(z.focused,!1).classed(z.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(z.legendItemFocused)}).classed(z.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},ft.xgrids=function(t){var e=this.internal,i=e.config;return t&&(i.grid_x_lines=t,e.redrawWithoutRescale()),i.grid_x_lines},ft.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},ft.xgrids.remove=function(t){var e;this.internal.removeGridLines(t,!0)},ft.ygrids=function(t){var e=this.internal,i=e.config;return t&&(i.grid_y_lines=t,e.redrawWithoutRescale()),i.grid_y_lines},ft.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},ft.ygrids.remove=function(t){var e;this.internal.removeGridLines(t,!1)},ft.groups=function(t){var e=this.internal,i=e.config;return A(t)||(i.data_groups=t,e.redraw()),i.data_groups},ft.legend=function(){},ft.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},ft.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},ft.load=function(e){var t=this.internal,i=t.config;e.xs&&t.addXs(e.xs),"names"in e&&ft.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){i.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(i.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){i.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){i.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?t.load(t.getCaches(e.cacheIds),e.done):"unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},ft.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},ft.regions=function(t){var e=this.internal,i=e.config;return t&&(i.regions=t,e.redrawWithoutRescale()),i.regions},ft.regions.add=function(t){var e=this.internal,i=e.config;return t&&(i.regions=i.regions.concat(t),e.redrawWithoutRescale()),i.regions},ft.regions.remove=function(t){var e=this.internal,i=e.config,n,a,r;return t=t||{},n=e.getOption(t,"duration",i.transition_duration),a=e.getOption(t,"classes",[z.region]),r=e.main.select("."+z.regions).selectAll(a.map(function(t){return"."+t})),(n?r.transition().duration(n):r).style("opacity",0).remove(),i.regions=i.regions.filter(function(t){var e=!1;return!t["class"]||(t["class"].split(" ").forEach(function(t){0<=a.indexOf(t)&&(e=!0)}),!e)}),i.regions},ft.selected=function(t){var e=this.internal,i=e.d3;return i.merge(e.main.selectAll("."+z.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+z.shape).filter(function(){return i.select(this).classed(z.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},ft.select=function(d,c,u){var l=this.internal,h=l.d3,g=l.config;g.data_selection_enabled&&l.main.selectAll("."+z.shapes).selectAll("."+z.shape).each(function(t,e){var i=h.select(this),n=t.data?t.data.id:t.id,a=l.getToggle(this,t).bind(l),r=g.data_selection_grouped||!d||0<=d.indexOf(n),o=!c||0<=c.indexOf(e),s=i.classed(z.SELECTED);i.classed(z.line)||i.classed(z.area)||(r&&o?g.data_selection_isselectable(t)&&!s&&a(!0,i.classed(z.SELECTED,!0),t,e):F(u)&&u&&s&&a(!1,i.classed(z.SELECTED,!1),t,e))})},ft.unselect=function(d,c){var u=this.internal,l=u.d3,h=u.config;h.data_selection_enabled&&u.main.selectAll("."+z.shapes).selectAll("."+z.shape).each(function(t,e){var i=l.select(this),n=t.data?t.data.id:t.id,a=u.getToggle(this,t).bind(u),r=h.data_selection_grouped||!d||0<=d.indexOf(n),o=!c||0<=c.indexOf(e),s=i.classed(z.SELECTED);i.classed(z.line)||i.classed(z.area)||r&&o&&h.data_selection_isselectable(t)&&s&&a(!1,i.classed(z.SELECTED,!1),t,e)})},ft.show=function(t,e){var i=this.internal,n;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},ft.hide=function(t,e){var i=this.internal,n;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},ft.toggle=function(t,e){var i=this,n=this.internal;n.mapToTargetIds(t).forEach(function(t){n.isTargetToShow(t)?i.hide(t,e):i.show(t,e)})},ft.tooltip=function(){},ft.tooltip.show=function(t){var e=this.internal,i,n;t.mouse&&(n=t.mouse),t.data?e.isMultipleX()?(n=[e.x(t.data.x),e.getYScale(t.data.id)(t.data.value)],i=null):i=L(t.data.index)?t.data.index:e.getIndexByX(t.data.x):"undefined"!=typeof t.x?i=e.getIndexByX(t.x):"undefined"!=typeof t.index&&(i=t.index),e.dispatchEvent("mouseover",i,n),e.dispatchEvent("mousemove",i,n),e.config.tooltip_onshow.call(e,t.data)},ft.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},ft.transform=function(t,e){var i=this.internal,n=0<=["pie","donut"].indexOf(t)?{withTransform:!0}:null;i.transformTo(e,t,n)},pt.transformTo=function(t,e,i){var n=this,a=!n.hasArcType(),r=i||{withTransitionForAxis:a};r.withTransitionForTransform=!1,n.transiting=!1,n.setTargetType(t,e),n.updateTargets(n.data.targets),n.updateAndRedraw(r)},ft.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},ft.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},ft.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},ft.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},ft.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},ft.zoom.max=function(t){var e=this.internal,i=e.config,n=e.d3;if(0!==t&&!t)return i.zoom_x_max;i.zoom_x_max=n.max([e.orgXDomain[1],t])},ft.zoom.min=function(t){var e=this.internal,i=e.config,n=e.d3;if(0!==t&&!t)return i.zoom_x_min;i.zoom_x_min=n.min([e.orgXDomain[0],t])},ft.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};F(t.max)&&this.domain.max(t.max),F(t.min)&&this.domain.min(t.min)},pt.initPie=function(){var t=this,e=t.d3,i=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),i.data_order||t.pie.sort(null)},pt.updateRadius=function(){var t=this,e=t.config,i=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=i?(t.radius-i)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},pt.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},pt.updateAngle=function(e){var t=this,i=t.config,n=!1,a=0,r,o,s,d;return i?(t.pie(t.filterTargetsToShow(t.data.targets)).forEach(function(t){n||t.data.id!==e.data.id||(n=!0,(e=t).index=a),a++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),t.isGaugeType(e.data)&&(r=i.gauge_min,o=i.gauge_max,s=Math.PI*(i.gauge_fullCircle?2:1)/(o-r),d=e.value<r?0:e.value<o?e.value-r:o-r,e.startAngle=i.gauge_startingAngle,e.endAngle=e.startAngle+s*d),n?e:null):null},pt.getSvgArc=function(){var n=this,a=n.d3.svg.arc().outerRadius(n.radius).innerRadius(n.innerRadius),t;return(t=function t(t,e){var i;return e?a(t):(i=n.updateAngle(t))?a(i):"M 0 0"}).centroid=a.centroid,t},pt.getSvgArcExpanded=function(t){var i=this,n=i.d3.svg.arc().outerRadius(i.radiusExpanded*(t||1)).innerRadius(i.innerRadius);return function(t){var e=i.updateAngle(t);return e?n(e):"M 0 0"}},pt.getArc=function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},pt.transformForArcLabel=function(t){var e=this,i=e.config,n=e.updateAngle(t),a,r,o,s,d,c="";return n&&!e.hasType("gauge")&&(a=this.svgArc.centroid(n),r=isNaN(a[0])?0:a[0],o=isNaN(a[1])?0:a[1],s=Math.sqrt(r*r+o*o),c="translate("+r*(d=e.hasType("donut")&&i.donut_label_ratio?h(i.donut_label_ratio)?i.donut_label_ratio(t,e.radius,s):i.donut_label_ratio:e.hasType("pie")&&i.pie_label_ratio?h(i.pie_label_ratio)?i.pie_label_ratio(t,e.radius,s):i.pie_label_ratio:e.radius&&s?(.375<36/e.radius?1.175-36/e.radius:.8)*e.radius/s:0)+","+o*d+")"),c},pt.getArcRatio=function(t){var e=this,i=e.config,n=Math.PI*(e.hasType("gauge")&&!i.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/n:null},pt.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},pt.textForArcLabel=function(t){var e=this,i,n,a,r,o;return e.shouldShowArcLabel()?(n=(i=e.updateAngle(t))?i.value:null,a=e.getArcRatio(i),r=t.data.id,e.hasType("gauge")||e.meetsArcLabelThreshold(a)?(o=e.getArcLabelFormat())?o(n,a,r):e.defaultArcValueFormat(n,a):""):""},pt.textForGaugeMinMax=function(t,e){var i,n=this.getGaugeLabelExtents();return n?n(t,e):t},pt.expandArc=function(t){var e=this,i;e.transiting?i=window.setInterval(function(){e.transiting||(window.clearInterval(i),0<e.legend.selectAll(".c3-legend-item-focused").size()&&e.expandArc(t))},10):(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+z.chartArc)).each(function(t){e.shouldExpand(t.data.id)&&e.d3.select(this).selectAll("path").transition().duration(e.expandDuration(t.data.id)).attr("d",e.svgArcExpanded).transition().duration(2*e.expandDuration(t.data.id)).attr("d",e.svgArcExpandedSub).each(function(t){e.isDonutType(t.data)})}))},pt.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+z.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+z.arc))},pt.expandDuration=function(t){var e=this,i=e.config;return e.isDonutType(t)?i.donut_expand_duration:e.isGaugeType(t)?i.gauge_expand_duration:e.isPieType(t)?i.pie_expand_duration:50},pt.shouldExpand=function(t){var e=this,i=e.config;return e.isDonutType(t)&&i.donut_expand||e.isGaugeType(t)&&i.gauge_expand||e.isPieType(t)&&i.pie_expand},pt.shouldShowArcLabel=function(){var t=this,e=t.config,i=!0;return t.hasType("donut")?i=e.donut_label_show:t.hasType("pie")&&(i=e.pie_label_show),i},pt.meetsArcLabelThreshold=function(t){var e=this,i=e.config,n;return(e.hasType("donut")?i.donut_label_threshold:i.pie_label_threshold)<=t},pt.getArcLabelFormat=function(){var t=this,e=t.config,i=e.pie_label_format;return t.hasType("gauge")?i=e.gauge_label_format:t.hasType("donut")&&(i=e.donut_label_format),i},pt.getGaugeLabelExtents=function(){var t,e;return this.config.gauge_label_extents},pt.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},pt.updateTargetsForArc=function(t){var e=this,i=e.main,n,a,r=e.classChartArc.bind(e),o=e.classArcs.bind(e),s=e.classFocus.bind(e);(a=(n=i.select("."+z.chartArcs).selectAll("."+z.chartArc).data(e.pie(t)).attr("class",function(t){return r(t)+s(t.data)})).enter().append("g").attr("class",r)).append("g").attr("class",o),a.append("text").attr("dy",e.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},pt.initArc=function(){var t=this;t.arcs=t.main.select("."+z.chart).append("g").attr("class",z.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",z.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},pt.redrawArc=function(t,e,i){var a=this,r=a.d3,n=a.config,o=a.main,s;(s=o.selectAll("."+z.arcs).selectAll("."+z.arc).data(a.arcData.bind(a))).enter().append("path").attr("class",a.classArc.bind(a)).style("fill",function(t){return a.color(t.data)}).style("cursor",function(t){return n.interaction_enabled&&n.data_selection_isselectable(t)?"pointer":null}).each(function(t){a.isGaugeType(t.data)&&(t.startAngle=t.endAngle=n.gauge_startingAngle),this._current=t}),s.attr("transform",function(t){return!a.isGaugeType(t.data)&&i?"scale(0)":""}).on("mouseover",
n.interaction_enabled?function(t){var e,i;a.transiting||(e=a.updateAngle(t))&&(i=a.convertToArcData(e),a.expandArc(e.data.id),a.api.focus(e.data.id),a.toggleFocusLegend(e.data.id,!0),a.config.data_onmouseover(i,this))}:null).on("mousemove",n.interaction_enabled?function(t){var e=a.updateAngle(t),i,n;e&&(n=[i=a.convertToArcData(e)],a.showTooltip(n,this))}:null).on("mouseout",n.interaction_enabled?function(t){var e,i;a.transiting||(e=a.updateAngle(t))&&(i=a.convertToArcData(e),a.unexpandArc(e.data.id),a.api.revert(),a.revertLegend(),a.hideTooltip(),a.config.data_onmouseout(i,this))}:null).on("click",n.interaction_enabled?function(t,e){var i=a.updateAngle(t),n;i&&(n=a.convertToArcData(i),a.toggleShape&&a.toggleShape(this,n,e),a.config.data_onclick.call(a.api,n,this))}:null).each(function(){a.transiting=!0}).transition().duration(t).attrTween("d",function(i){var t=a.updateAngle(i),n;return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),n=r.interpolate(this._current,t),this._current=n(0),function(t){var e=n(t);return e.data=i.data,a.getArc(e,!0)}):function(){return"M 0 0"}}).attr("transform",i?"scale(1)":"").style("fill",function(t){return a.levelColor?a.levelColor(t.data.values[0].value):a.color(t.data.id)}).call(a.endall,function(){a.transiting=!1}),s.exit().transition().duration(e).style("opacity",0).remove(),o.selectAll("."+z.chartArc).select("text").style("opacity",0).attr("class",function(t){return a.isGaugeType(t.data)?z.gaugeValue:""}).text(a.textForArcLabel.bind(a)).attr("transform",a.transformForArcLabel.bind(a)).style("font-size",function(t){return a.isGaugeType(t.data)?Math.round(a.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return a.isTargetToShow(t.data.id)&&a.isArcType(t.data)?1:0}),o.select("."+z.chartArcsTitle).style("opacity",a.hasType("donut")||a.hasType("gauge")?1:0),a.hasType("gauge")&&(a.arcs.select("."+z.chartArcsBackground).attr("d",function(){var t={data:[{value:n.gauge_max}],startAngle:n.gauge_startingAngle,endAngle:-1*n.gauge_startingAngle};return a.getArc(t,!0,!0)}),a.arcs.select("."+z.chartArcsGaugeUnit).attr("dy",".75em").text(n.gauge_label_show?n.gauge_units:""),a.arcs.select("."+z.chartArcsGaugeMin).attr("dx",-1*(a.innerRadius+(a.radius-a.innerRadius)/(n.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(n.gauge_label_show?a.textForGaugeMinMax(n.gauge_min,!1):""),a.arcs.select("."+z.chartArcsGaugeMax).attr("dx",a.innerRadius+(a.radius-a.innerRadius)/(n.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(n.gauge_label_show?a.textForGaugeMinMax(n.gauge_max,!0):""))},pt.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",z.chartArcsBackground),t.append("text").attr("class",z.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",z.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",z.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},pt.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},pt.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},pt.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},pt.getCaches=function(t){var e=[],i;for(i=0;i<t.length;i++)t[i]in this.cache&&e.push(this.cloneTarget(this.cache[t[i]]));return e},pt.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},pt.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},pt.classText=function(t){return this.generateClass(z.text,t.index)},pt.classTexts=function(t){return this.generateClass(z.texts,t.id)},pt.classShape=function(t){return this.generateClass(z.shape,t.index)},pt.classShapes=function(t){return this.generateClass(z.shapes,t.id)},pt.classLine=function(t){return this.classShape(t)+this.generateClass(z.line,t.id)},pt.classLines=function(t){return this.classShapes(t)+this.generateClass(z.lines,t.id)},pt.classCircle=function(t){return this.classShape(t)+this.generateClass(z.circle,t.index)},pt.classCircles=function(t){return this.classShapes(t)+this.generateClass(z.circles,t.id)},pt.classBar=function(t){return this.classShape(t)+this.generateClass(z.bar,t.index)},pt.classBars=function(t){return this.classShapes(t)+this.generateClass(z.bars,t.id)},pt.classArc=function(t){return this.classShape(t.data)+this.generateClass(z.arc,t.data.id)},pt.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(z.arcs,t.data.id)},pt.classArea=function(t){return this.classShape(t)+this.generateClass(z.area,t.id)},pt.classAreas=function(t){return this.classShapes(t)+this.generateClass(z.areas,t.id)},pt.classRegion=function(t,e){return this.generateClass(z.region,e)+" "+("class"in t?t["class"]:"")},pt.classEvent=function(t){return this.generateClass(z.eventRect,t.index)},pt.classTarget=function(t){var e=this,i=e.config.data_classes[t],n="";return i&&(n=" "+z.target+"-"+i),e.generateClass(z.target,t)+n},pt.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},pt.classFocused=function(t){return" "+(0<=this.focusedTargetIds.indexOf(t.id)?z.focused:"")},pt.classDefocused=function(t){return" "+(0<=this.defocusedTargetIds.indexOf(t.id)?z.defocused:"")},pt.classChartText=function(t){return z.chartText+this.classTarget(t.id)},pt.classChartLine=function(t){return z.chartLine+this.classTarget(t.id)},pt.classChartBar=function(t){return z.chartBar+this.classTarget(t.id)},pt.classChartArc=function(t){return z.chartArc+this.classTarget(t.data.id)},pt.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},pt.selectorTarget=function(t,e){return(e||"")+"."+z.target+this.getTargetSelectorSuffix(t)},pt.selectorTargets=function(t,e){var i=this;return(t=t||[]).length?t.map(function(t){return i.selectorTarget(t,e)}):null},pt.selectorLegend=function(t){return"."+z.legendItem+this.getTargetSelectorSuffix(t)},pt.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},pt.getClipPath=function(t){var e;return"url("+(0<=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")?"":document.URL.split("#")[0])+"#"+t+")"},pt.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},pt.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},pt.getAxisClipY=function(t){return t?-20:-this.margin.top},pt.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},pt.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},pt.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},pt.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},pt.getAxisClipWidth=function(t){var e=this,i=Math.max(30,e.margin.left),n=Math.max(30,e.margin.right);return t?e.width+2+i+n:e.margin.left+20},pt.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},pt.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},pt.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},pt.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},pt.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},pt.generateColor=function(){var t=this,e=t.config,i=t.d3,n=e.data_colors,a=C(e.color_pattern)?e.color_pattern:i.scale.category10().range(),r=e.data_color,o=[];return function(t){var e=t.id||t.data&&t.data.id||t,i;return n[e]instanceof Function?i=n[e](t):n[e]?i=n[e]:(o.indexOf(e)<0&&o.push(e),i=a[o.indexOf(e)%a.length],n[e]=i),r instanceof Function?r(i,t):i}},pt.generateLevelColor=function(){var t,e=this.config,a=e.color_pattern,i=e.color_threshold,r="value"===i.unit,o=i.values&&i.values.length?i.values:[],s=i.max||100;return C(e.color_threshold)?function(t){var e,i,n=a[a.length-1];for(e=0;e<o.length;e++)if((i=r?t:100*t/s)<o[e]){n=a[e];break}return n}:null},pt.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:!0,zoom_enabled:!1,zoom_extent:undefined,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function t(){},zoom_onzoomstart:function i(){},zoom_onzoomend:function n(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function a(){},onmouseout:function r(){},onresize:function o(){},onresized:function s(){},oninit:function d(){},onrendered:function c(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function u(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function l(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function h(){},data_onmouseover:function g(){},data_onmouseout:function f(){},data_onselected:function p(){},data_onunselected:function _(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function x(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:!0,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:!1,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:!1,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:!1,line_step_type:"step",bar_width:undefined,bar_width_ratio:.6,bar_width_max:undefined,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:undefined,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:undefined,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function y(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function m(){},tooltip_onhide:function S(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},pt.additionalConfig={},pt.loadConfig=function(e){function i(){var t=r.shift();return t&&a&&"object"===(void 0===a?"undefined":d(a))&&t in a?(a=a[t],i()):t?undefined:a}var n=this.config,a,r,o;Object.keys(n).forEach(function(t){a=e,r=t.split("_"),o=i(),F(o)&&(n[t]=o)})},pt.convertUrlToData=function(t,e,i,a,r){var o=this,s=e||"csv",n=o.d3.xhr(t);i&&Object.keys(i).forEach(function(t){n.header(t,i[t])}),n.get(function(t,e){var i,n=e.response||e.responseText;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");i="json"===s?o.convertJsonToData(JSON.parse(n),a):"tsv"===s?o.convertTsvToData(n):o.convertCsvToData(n),r.call(o,i)})},pt.convertXsvToData=function(t,e){var i=e.parseRows(t),n;return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},pt.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},pt.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},pt.convertJsonToData=function(e,t){var a=this,r=[],o,i;return t?(t.x?(o=t.value.concat(t.x),a.config.data_x=t.x):o=t.value,r.push(o),e.forEach(function(i){var n=[];o.forEach(function(t){var e=a.findValueInJson(i,t);A(e)&&(e=null),n.push(e)}),r.push(n)}),i=a.convertRowsToData(r)):(Object.keys(e).forEach(function(t){r.push([t].concat(e[t]))}),i=a.convertColumnsToData(r)),i},pt.findValueInJson=function(t,e){for(var i=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),n=0;n<i.length;++n){var a=i[n];if(!(a in t))return;t=t[a]}return t},pt.convertRowsToData=function(t){for(var e=[],i=t[0],n=1;n<t.length;n++){for(var a={},r=0;r<t[n].length;r++){if(A(t[n][r]))throw new Error("Source data is missing a component at ("+n+","+r+")!");a[i[r]]=t[n][r]}e.push(a)}return e},pt.convertColumnsToData=function(t){for(var e=[],i=0;i<t.length;i++)for(var n=t[i][0],a=1;a<t[i].length;a++){if(A(e[a-1])&&(e[a-1]={}),A(t[i][a]))throw new Error("Source data is missing a component at ("+i+","+a+")!");e[a-1][n]=t[i][a]}return e},pt.convertDataToTargets=function(t,n){var c=this,u=c.config,e=c.d3.keys(t[0]).filter(c.isNotX,c),a=c.d3.keys(t[0]).filter(c.isX,c),i;return e.forEach(function(i){var e=c.getXKey(i);c.isCustomX()||c.isTimeSeries()?0<=a.indexOf(e)?c.data.xs[i]=(n&&c.data.xs[i]?c.data.xs[i]:[]).concat(t.map(function(t){return t[e]}).filter(L).map(function(t,e){return c.generateTargetX(t,i,e)})):u.data_x?c.data.xs[i]=c.getOtherTargetXs():C(u.data_xs)&&(c.data.xs[i]=c.getXValuesOfXKey(e,c.data.targets)):c.data.xs[i]=t.map(function(t,e){return e})}),e.forEach(function(t){if(!c.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(i=e.map(function(o,s){var d=u.data_idConverter(o);return{id:d,id_org:o,values:t.map(function(t,e){var i,n=t[c.getXKey(o)],a=null===t[o]||isNaN(t[o])?null:+t[o],r;return c.isCustomX()&&c.isCategorized()&&!A(n)?(0===s&&0===e&&(u.axis_x_categories=[]),-1===(r=u.axis_x_categories.indexOf(n))&&(r=u.axis_x_categories.length,u.axis_x_categories.push(n))):r=c.generateTargetX(n,o,e),(A(t[o])||c.data.xs[o].length<=e)&&(r=undefined),{x:r,value:a,id:d}}).filter(function(t){return F(t.x)})}})).forEach(function(t){var e;u.data_xSort&&(t.values=t.values.sort(function(t,e){var i,n;return(t.x||0===t.x?t.x:Infinity)-(e.x||0===e.x?e.x:Infinity)})),e=0,t.values.forEach(function(t){t.index=e++}),c.data.xs[t.id].sort(function(t,e){return t-e})}),c.hasNegativeValue=c.hasNegativeValueInTargets(i),c.hasPositiveValue=c.hasPositiveValueInTargets(i),u.data_type&&c.setTargetType(c.mapToIds(i).filter(function(t){return!(t in u.data_types)}),u.data_type),i.forEach(function(t){c.addCache(t.id_org,t)}),i},pt.isX=function(t){var e,i=this.config;return i.data_x&&t===i.data_x||C(i.data_xs)&&u(i.data_xs,t)},pt.isNotX=function(t){return!this.isX(t)},pt.getXKey=function(t){var e,i=this.config;return i.data_x?i.data_x:C(i.data_xs)?i.data_xs[t]:null},pt.getXValuesOfXKey=function(e,t){var i=this,n,a;return(t&&C(t)?i.mapToIds(t):[]).forEach(function(t){i.getXKey(t)===e&&(n=i.data.xs[t])}),n},pt.getIndexByX=function(t){var e=this,i=e.filterByX(e.data.targets,t);return i.length?i[0].index:null},pt.getXValue=function(t,e){var i=this;return t in i.data.xs&&i.data.xs[t]&&L(i.data.xs[t][e])?i.data.xs[t][e]:e},pt.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},pt.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},pt.addXs=function(e){var i=this;Object.keys(e).forEach(function(t){i.config.data_xs[t]=e[t]})},pt.hasMultipleX=function(e){return 1<this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()},pt.isMultipleX=function(){return C(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},pt.addName=function(t){var e,i;return t&&(i=this.config.data_names[t.id],t.name=i!==undefined?i:t.id),t},pt.getValueOnIndex=function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null},pt.updateTargetX=function(t,n){var a=this;t.forEach(function(i){i.values.forEach(function(t,e){t.x=a.generateTargetX(n[e],i.id,e)}),a.data.xs[i.id]=n})},pt.updateTargetXs=function(t,e){var i=this;t.forEach(function(t){e[t.id]&&i.updateTargetX([t],e[t.id])})},pt.generateTargetX=function(t,e,i){var n=this,a;return a=n.isTimeSeries()?t?n.parseDate(t):n.parseDate(n.getXValue(e,i)):n.isCustomX()&&!n.isCategorized()?L(t)?+t:n.getXValue(e,i):i},pt.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},pt.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},pt.getPrevX=function(t){var e=this.xs[t-1];return void 0!==e?e:null},pt.getNextX=function(t){var e=this.xs[t+1];return void 0!==e?e:null},pt.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},pt.getMaxDataCountTarget=function(t){var e=t.length,i=0,n;return 1<e?t.forEach(function(t){t.values.length>i&&(i=(n=t).values.length)}):n=e?t[0]:null,n},pt.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},pt.mapToIds=function(t){return t.map(function(t){return t.id})},pt.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)},pt.hasTarget=function(t,e){var i=this.mapToIds(t),n;for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},pt.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},pt.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},pt.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},pt.mapTargetsToUniqueXs=function(t){var e=this,i=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(i=e.isTimeSeries()?i.map(function(t){return new Date(+t)}):i.map(function(t){return+t})).sort(function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN})},pt.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]))},pt.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},pt.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},pt.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},pt.getValuesAsIdKeyed=function(t){var i={};return t.forEach(function(e){i[e.id]=[],e.values.forEach(function(t){i[e.id].push(t.value)})}),i},pt.checkValueInTargets=function(t,e){var i=Object.keys(t),n,a,r;for(n=0;n<i.length;n++)for(r=t[i[n]].values,a=0;a<r.length;a++)if(e(r[a].value))return!0;return!1},pt.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},pt.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0<t})},pt.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},pt.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},pt.orderTargets=function(t){var e=this,i=e.config,r=e.isOrderAsc(),n=e.isOrderDesc();return r||n?t.sort(function(t,e){var i=function i(t,e){return t+Math.abs(e.value)},n=t.values.reduce(i,0),a=e.values.reduce(i,0);return r?a-n:n-a}):h(i.data_order)?t.sort(i.data_order):o(i.data_order)&&t.sort(function(t,e){return i.data_order.indexOf(t.id)-i.data_order.indexOf(e.id)}),t},pt.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},pt.filterRemoveNull=function(t){return t.filter(function(t){return L(t.value)})},pt.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},pt.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==d(t.data_labels)||!C(t.data_labels))},pt.getDataLabelLength=function(t,e,i){var n=this,a=[0,0],r=1.3;return n.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return n.dataLabelFormat(t.id)(t)}).each(function(t,e){a[e]=this.getBoundingClientRect()[i]*r}).remove(),a},pt.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},pt.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},pt.findSameXOfValues=function(t,e){var i,n=t[e].x,a=[];for(i=e-1;0<=i&&n===t[i].x;i--)a.push(t[i]);for(i=e;i<t.length&&n===t[i].x;i++)a.push(t[i]);return a},pt.findClosestFromTargets=function(t,e){var i=this,n;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},pt.findClosest=function(t,i){var n=this,a=n.config.point_sensitivity,r;return t.filter(function(t){return t&&n.isBarType(t.id)}).forEach(function(t){var e=n.main.select("."+z.bars+n.getTargetSelectorSuffix(t.id)+" ."+z.bar+"-"+t.index).node();!r&&n.isWithinBar(e)&&(r=t)}),t.filter(function(t){return t&&!n.isBarType(t.id)}).forEach(function(t){var e=n.dist(t,i);e<a&&(a=e,r=t)}),r},pt.dist=function(t,e){var i=this,n=i.config,a=n.axis_rotated?1:0,r=n.axis_rotated?0:1,o=i.circleY(t,t.index),s=i.x(t.x);return Math.sqrt(Math.pow(s-e[a],2)+Math.pow(o-e[r],2))},pt.convertValuesToStep=function(t){var e=[].concat(t),i;if(!this.isCategorized())return t;for(i=t.length+1;0<i;i--)e[i]=e[i-1];return e[0]={x:e[0].x-1,value:e[0].value,id:e[0].id},e[t.length+1]={x:e[t.length].x+1,value:e[t.length].value,id:e[t.length].id},e},pt.updateDataAttributes=function(t,e){var i=this,n,a=i.config["data_"+t];return void 0===e||(Object.keys(e).forEach(function(t){a[t]=e[t]}),i.redraw({withLegend:!0})),a},pt.load=function(i,n){var a=this;i&&(n.filter&&(i=i.filter(n.filter)),(n.type||n.types)&&i.forEach(function(t){var e=n.types&&n.types[t.id]?n.types[t.id]:n.type;a.setTargetType(t.id,e)}),a.data.targets.forEach(function(t){for(var e=0;e<i.length;e++)if(t.id===i[e].id){t.values=i[e].values,i.splice(e,1);break}}),a.data.targets=a.data.targets.concat(i)),a.updateTargets(a.data.targets),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()},pt.loadFromArgs=function(e){var i=this;e.data?i.load(i.convertDataToTargets(e.data),e):e.url?i.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(t){i.load(i.convertDataToTargets(t),e)}):e.json?i.load(i.convertDataToTargets(i.convertJsonToData(e.json,e.keys)),e):e.rows?i.load(i.convertDataToTargets(i.convertRowsToData(e.rows)),e):e.columns?i.load(i.convertDataToTargets(i.convertColumnsToData(e.columns)),e):i.load(null,e)},pt.unload=function(t,e){var i=this;e||(e=function e(){}),(t=t.filter(function(t){return i.hasTarget(i.data.targets,t)}))&&0!==t.length?(i.svg.selectAll(t.map(function(t){return i.selectorTarget(t)})).transition().style("opacity",0).remove().call(i.endall,e),t.forEach(function(e){i.withoutFadeIn[e]=!1,i.legend&&i.legend.selectAll("."+z.legendItem+i.getTargetSelectorSuffix(e)).remove(),i.data.targets=i.data.targets.filter(function(t){return t.id!==e})})):e()},pt.getYDomainMin=function(t){var i=this,e=i.config,n=i.mapToIds(t),a=i.getValuesAsIdKeyed(t),r,o,s,d,c,u;if(0<e.data_groups.length)for(u=i.hasNegativeValueInTargets(t),r=0;r<e.data_groups.length;r++)if(0!==(d=e.data_groups[r].filter(function(t){return 0<=n.indexOf(t)})).length)for(s=d[0],u&&a[s]&&a[s].forEach(function(t,e){a[s][e]=t<0?t:0}),o=1;o<d.length;o++)c=d[o],a[c]&&a[c].forEach(function(t,e){i.axis.getId(c)!==i.axis.getId(s)||!a[s]||u&&0<+t||(a[s][e]+=+t)});return i.d3.min(Object.keys(a).map(function(t){return i.d3.min(a[t])}))},pt.getYDomainMax=function(t){var i=this,e=i.config,n=i.mapToIds(t),a=i.getValuesAsIdKeyed(t),r,o,s,d,c,u;if(0<e.data_groups.length)for(u=i.hasPositiveValueInTargets(t),r=0;r<e.data_groups.length;r++)if(0!==(d=e.data_groups[r].filter(function(t){return 0<=n.indexOf(t)})).length)for(s=d[0],u&&a[s]&&a[s].forEach(function(t,e){a[s][e]=0<t?t:0}),o=1;o<d.length;o++)c=d[o],a[c]&&a[c].forEach(function(t,e){i.axis.getId(c)!==i.axis.getId(s)||!a[s]||u&&+t<0||(a[s][e]+=+t)});return i.d3.max(Object.keys(a).map(function(t){return i.d3.max(a[t])}))},pt.getYDomain=function(t,e,i){var n=this,a=n.config,r=t.filter(function(t){return n.axis.getId(t.id)===e}),o=i?n.filterByXDomain(r,i):r,s="y2"===e?a.axis_y2_min:a.axis_y_min,d="y2"===e?a.axis_y2_max:a.axis_y_max,c=n.getYDomainMin(o),u=n.getYDomainMax(o),l,h,g,f,p,_="y2"===e?a.axis_y2_center:a.axis_y_center,x,y,m,S,w,v,b=n.hasType("bar",o)&&a.bar_zerobased||n.hasType("area",o)&&a.area_zerobased,A="y2"===e?a.axis_y2_inverted:a.axis_y_inverted,T=n.hasDataLabel()&&a.axis_rotated,P=n.hasDataLabel()&&!a.axis_rotated;return c=L(s)?s:L(d)?c<d?c:d-10:c,u=L(d)?d:L(s)?s<u?u:s+10:u,0===o.length?"y2"===e?n.y2.domain():n.y.domain():(isNaN(c)&&(c=0),isNaN(u)&&(u=c),c===u&&(c<0?u=0:c=0),w=0<=c&&0<=u,v=c<=0&&u<=0,(L(s)&&w||L(d)&&v)&&(b=!1),b&&(w&&(c=0),v&&(u=0)),g=f=p=.1*(h=Math.abs(u-c)),void 0!==_&&(u=_+(x=Math.max(Math.abs(c),Math.abs(u))),c=_-x),T?(y=n.getDataLabelLength(c,u,"width"),m=D(n.y.range()),f+=h*((S=[y[0]/m,y[1]/m])[1]/(1-S[0]-S[1])),p+=h*(S[0]/(1-S[0]-S[1]))):P&&(y=n.getDataLabelLength(c,u,"height"),f+=n.axis.convertPixelsToAxisPadding(y[1],h),p+=n.axis.convertPixelsToAxisPadding(y[0],h)),"y"===e&&C(a.axis_y_padding)&&(f=n.axis.getPadding(a.axis_y_padding,"top",f,h),p=n.axis.getPadding(a.axis_y_padding,"bottom",p,h)),"y2"===e&&C(a.axis_y2_padding)&&(f=n.axis.getPadding(a.axis_y2_padding,"top",f,h),p=n.axis.getPadding(a.axis_y2_padding,"bottom",p,h)),b&&(w&&(p=c),v&&(f=-u)),l=[c-p,u+f],A?l.reverse():l)},pt.getXDomainMin=function(t){var e=this,i=e.config;return F(i.axis_x_min)?e.isTimeSeries()?this.parseDate(i.axis_x_min):i.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},pt.getXDomainMax=function(t){var e=this,i=e.config;return F(i.axis_x_max)?e.isTimeSeries()?this.parseDate(i.axis_x_max):i.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},pt.getXDomainPadding=function(t){var e=this,i=e.config,n=t[1]-t[0],a,r,o,s;return r=e.isCategorized()?0:e.hasType("bar")?1<(a=e.getMaxDataCount())?n/(a-1)/2:.5:.01*n,"object"===d(i.axis_x_padding)&&C(i.axis_x_padding)?(o=L(i.axis_x_padding.left)?i.axis_x_padding.left:r,s=L(i.axis_x_padding.right)?i.axis_x_padding.right:r):o=s="number"==typeof i.axis_x_padding?i.axis_x_padding:r,{left:o,right:s}},pt.getXDomain=function(t){var e=this,i=[e.getXDomainMin(t),e.getXDomainMax(t)],n=i[0],a=i[1],r=e.getXDomainPadding(i),o=0,s=0;return n-a!=0||e.isCategorized()||(e.isTimeSeries()?(n=new Date(.5*n.getTime()),a=new Date(1.5*a.getTime())):(n=0===n?1:.5*n,a=0===a?-1:1.5*a)),(n||0===n)&&(o=e.isTimeSeries()?new Date(n.getTime()-r.left):n-r.left),(a||0===a)&&(s=e.isTimeSeries()?new Date(a.getTime()+r.right):a+r.right),[o,s]},pt.updateXDomain=function(t,e,i,n,a){var r=this,o=r.config;return i&&(r.x.domain(a||r.d3.extent(r.getXDomain(t))),r.orgXDomain=r.x.domain(),o.zoom_enabled&&r.zoom.scale(r.x).updateScaleExtent(),r.subX.domain(r.x.domain()),r.brush&&r.brush.scale(r.subX)),e&&(r.x.domain(a||(!r.brush||r.brush.empty()?r.orgXDomain:r.brush.extent())),o.zoom_enabled&&r.zoom.scale(r.x).updateScaleExtent()),n&&r.x.domain(r.trimXDomain(r.x.orgDomain())),r.x.domain()},pt.trimXDomain=function(t){var e=this.getZoomDomain(),i=e[0],n=e[1];return t[0]<=i&&(t[1]=+t[1]+(i-t[0]),t[0]=i),n<=t[1]&&(t[0]=+t[0]-(t[1]-n),t[1]=n),t},pt.drag=function(t){var h=this,e=h.config,i=h.main,g=h.d3,n,a,r,o,f,p,_,x;h.hasArcType()||e.data_selection_enabled&&(e.zoom_enabled&&!h.zoom.altDomain||e.data_selection_multiple&&(n=h.dragStart[0],a=h.dragStart[1],r=t[0],o=t[1],f=Math.min(n,r),p=Math.max(n,r),_=e.data_selection_grouped?h.margin.top:Math.min(a,o),x=e.data_selection_grouped?h.height:Math.max(a,o),i.select("."+z.dragarea).attr("x",f).attr("y",_).attr("width",p-f).attr("height",x-_),i.selectAll("."+z.shapes).selectAll("."+z.shape).filter(function(t){return e.data_selection_isselectable(t)}).each(function(t,e){var i=g.select(this),n=i.classed(z.SELECTED),a=i.classed(z.INCLUDED),r,o,s,d,c,u=!1,l;if(i.classed(z.circle))r=1*i.attr("cx"),o=1*i.attr("cy"),c=h.togglePoint,u=f<r&&r<p&&_<o&&o<x;else{if(!i.classed(z.bar))return;r=(l=y(this)).x,o=l.y,s=l.width,d=l.height,c=h.togglePath,u=!(p<r||r+s<f||x<o||o+d<_)}u^a&&(i.classed(z.INCLUDED,!a),i.classed(z.SELECTED,!n),c.call(h,!n,i,t,e))})))},pt.dragstart=function(t){var e=this,i=e.config;e.hasArcType()||i.data_selection_enabled&&(e.dragStart=t,e.main.select("."+z.chart).append("rect").attr("class",z.dragarea).style("opacity",.1),e.dragging=!0)},pt.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+z.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+z.shape).classed(z.INCLUDED,!1),t.dragging=!1)},pt.getYFormat=function(t){var a=this,r=t&&!a.hasType("gauge")?a.defaultArcValueFormat:a.yFormat,o=t&&!a.hasType("gauge")?a.defaultArcValueFormat:a.y2Format;return function(t,e,i){var n;return("y2"===a.axis.getId(i)?o:r).call(a,t,e)}},pt.yFormat=function(t){var e=this,i=e.config,n;return(i.axis_y_tick_format?i.axis_y_tick_format:e.defaultValueFormat)(t)},pt.y2Format=function(t){var e=this,i=e.config,n;return(i.axis_y2_tick_format?i.axis_y2_tick_format:e.defaultValueFormat)(t)},pt.defaultValueFormat=function(t){return L(t)?+t:""},pt.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},pt.dataLabelFormat=function(t){var e,i=this.config.data_labels,n,a=function a(t){return L(t)?+t:""};return n="function"==typeof i.format?i.format:"object"===d(i.format)?i.format[t]?!0===i.format[t]?a:i.format[t]:function n(){return""}:a},pt.initGrid=function(){var t=this,e=t.config,i=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",z.grid),e.grid_x_show&&t.grid.append("g").attr("class",z.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",z.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",z.xgridFocus).append("line").attr("class",z.xgridFocus),t.xgrid=i.selectAll([]),e.grid_lines_front||t.initGridLines()},pt.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",z.grid+" "+z.gridLines),t.gridLines.append("g").attr("class",z.xgridLines),t.gridLines.append("g").attr("class",z.ygridLines),t.xgridLines=e.selectAll([])},pt.updateXGrid=function(t){var e=this,i=e.config,n=e.d3,
a=e.generateGridData(i.grid_x_type,e.x),r=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=i.axis_rotated?{x1:0,x2:e.width,y1:function o(t){return e.x(t)-r},y2:function s(t){return e.x(t)-r}}:{x1:function d(t){return e.x(t)+r},x2:function c(t){return e.x(t)+r},y1:0,y2:e.height},e.xgrid=e.main.select("."+z.xgrids).selectAll("."+z.xgrid).data(a),e.xgrid.enter().append("line").attr("class",z.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+n.select(this).attr(i.axis_rotated?"y1":"x1")===(i.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},pt.updateYGrid=function(){var t=this,e=t.config,i=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+z.ygrids).selectAll("."+z.ygrid).data(i),t.ygrid.enter().append("line").attr("class",z.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},pt.gridTextAnchor=function(t){return t.position?t.position:"end"},pt.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},pt.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},pt.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},pt.updateGrid=function(t){var e=this,i=e.main,n=e.config,a,r,o;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),i.select("line."+z.xgridFocus).style("visibility","hidden"),n.grid_x_show&&e.updateXGrid(),e.xgridLines=i.select("."+z.xgridLines).selectAll("."+z.xgridLine).data(n.grid_x_lines),(a=e.xgridLines.enter().append("g").attr("class",function(t){return z.xgridLine+(t["class"]?" "+t["class"]:"")})).append("line").style("opacity",0),a.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",n.axis_rotated?"":"rotate(-90)").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),e.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),n.grid_y_show&&e.updateYGrid(),e.ygridLines=i.select("."+z.ygridLines).selectAll("."+z.ygridLine).data(n.grid_y_lines),(r=e.ygridLines.enter().append("g").attr("class",function(t){return z.ygridLine+(t["class"]?" "+t["class"]:"")})).append("line").style("opacity",0),r.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",n.axis_rotated?"rotate(-90)":"").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),o=e.yv.bind(e),e.ygridLines.select("line").transition().duration(t).attr("x1",n.axis_rotated?o:0).attr("x2",n.axis_rotated?o:e.width).attr("y1",n.axis_rotated?0:o).attr("y2",n.axis_rotated?e.height:o).style("opacity",1),e.ygridLines.select("text").transition().duration(t).attr("x",n.axis_rotated?e.xGridTextX.bind(e):e.yGridTextX.bind(e)).attr("y",o).text(function(t){return t.text}).style("opacity",1),e.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},pt.redrawGrid=function(t){var e=this,i=e.config,n=e.xv.bind(e),a=e.xgridLines.select("line"),r=e.xgridLines.select("text");return[(t?a.transition():a).attr("x1",i.axis_rotated?0:n).attr("x2",i.axis_rotated?e.width:n).attr("y1",i.axis_rotated?n:0).attr("y2",i.axis_rotated?n:e.height).style("opacity",1),(t?r.transition():r).attr("x",i.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",n).text(function(t){return t.text}).style("opacity",1)]},pt.showXGridFocus=function(t){var e=this,i=e.config,n=t.filter(function(t){return t&&L(t.value)}),a=e.main.selectAll("line."+z.xgridFocus),r=e.xx.bind(e);i.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(a.style("visibility","visible").data([n[0]]).attr(i.axis_rotated?"y1":"x1",r).attr(i.axis_rotated?"y2":"x2",r),e.smoothLines(a,"grid")))},pt.hideXGridFocus=function(){this.main.select("line."+z.xgridFocus).style("visibility","hidden")},pt.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+z.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},pt.generateGridData=function(t,e){var i=this,n=[],a,r,o,s,d=i.main.select("."+z.axisX).selectAll(".tick").size();if("year"===t)for(r=(a=i.getXDomain())[0].getFullYear(),o=a[1].getFullYear(),s=r;s<=o;s++)n.push(new Date(s+"-01-01 00:00:00"));else(n=e.ticks(10)).length>d&&(n=n.filter(function(t){return(""+t).indexOf(".")<0}));return n},pt.getGridFilterToRemove=function(t){return t?function(e){var i=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(i=!0)}),i}:function(){return!0}},pt.removeGridLines=function(t,e){var i=this,n=i.config,a=i.getGridFilterToRemove(t),r=function r(t){return!a(t)},o=e?z.xgridLines:z.ygridLines,s=e?z.xgridLine:z.ygridLine;i.main.select("."+o).selectAll("."+s).filter(a).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(r):n.grid_y_lines=n.grid_y_lines.filter(r)},pt.initEventRect=function(){var t;this.main.select("."+z.chart).append("g").attr("class",z.eventRects).style("fill-opacity",0)},pt.redrawEventRect=function(){var t=this,e=t.config,i,n,a=t.isMultipleX(),r=t.main.select("."+z.eventRects).style("cursor",e.zoom_enabled?e.axis_rotated?"ns-resize":"ew-resize":null).classed(z.eventRectsMultiple,a).classed(z.eventRectsSingle,!a);r.selectAll("."+z.eventRect).remove(),t.eventRect=r.selectAll("."+z.eventRect),a?(i=t.eventRect.data([0]),t.generateEventRectsForMultipleXs(i.enter()),t.updateEventRect(i)):(n=t.getMaxDataCountTarget(t.data.targets),r.datum(n?n.values:[]),t.eventRect=r.selectAll("."+z.eventRect),i=t.eventRect.data(function(t){return t}),t.generateEventRectsForSingleX(i.enter()),t.updateEventRect(i),i.exit().remove())},pt.updateEventRect=function(t){var a=this,n=a.config,e,i,r,o,s,d;t=t||a.eventRect.data(function(t){return t}),a.isMultipleX()?(i=e=0,r=a.width,o=a.height):(!a.isCustomX()&&!a.isTimeSeries()||a.isCategorized()?(s=a.getEventRectWidth(),d=function d(t){return a.x(t.x)-s/2}):(a.updateXs(),s=function s(t){var e=a.getPrevX(t.index),i=a.getNextX(t.index);return null===e&&null===i?n.axis_rotated?a.height:a.width:(null===e&&(e=a.x.domain()[0]),null===i&&(i=a.x.domain()[1]),Math.max(0,(a.x(i)-a.x(e))/2))},d=function d(t){var e=a.getPrevX(t.index),i=a.getNextX(t.index),n=a.data.xs[t.id][t.index];return null===e&&null===i?0:(null===e&&(e=a.x.domain()[0]),(a.x(n)+a.x(e))/2)}),e=n.axis_rotated?0:d,i=n.axis_rotated?d:0,r=n.axis_rotated?a.width:s,o=n.axis_rotated?s:a.height),t.attr("class",a.classEvent.bind(a)).attr("x",e).attr("y",i).attr("width",r).attr("height",o)},pt.generateEventRectsForSingleX=function(t){var a=this,r=a.d3,o=a.config;t.append("rect").attr("class",a.classEvent.bind(a)).style("cursor",o.data_selection_enabled&&o.data_selection_grouped?"pointer":null).on("mouseover",function(t){var e=t.index;a.dragging||a.flowing||a.hasArcType()||(o.point_focus_expand_enabled&&a.expandCircles(e,null,!0),a.expandBars(e,null,!0),a.main.selectAll("."+z.shape+"-"+e).each(function(t){o.data_onmouseover.call(a.api,t)}))}).on("mouseout",function(t){var e=t.index;a.config&&(a.hasArcType()||(a.hideXGridFocus(),a.hideTooltip(),a.unexpandCircles(),a.unexpandBars(),a.main.selectAll("."+z.shape+"-"+e).each(function(t){o.data_onmouseout.call(a.api,t)})))}).on("mousemove",function(t){var e,i=t.index,n=a.svg.select("."+z.eventRect+"-"+i);a.dragging||a.flowing||a.hasArcType()||(a.isStepType(t)&&"step-after"===a.config.line_step_type&&r.mouse(this)[0]<a.x(a.getXValue(t.id,i))&&(i-=1),e=a.filterTargetsToShow(a.data.targets).map(function(t){return a.addName(a.getValueOnIndex(t.values,i))}),o.tooltip_grouped&&(a.showTooltip(e,this),a.showXGridFocus(e)),(!o.tooltip_grouped||o.data_selection_enabled&&!o.data_selection_grouped)&&a.main.selectAll("."+z.shape+"-"+i).each(function(){r.select(this).classed(z.EXPANDED,!0),o.data_selection_enabled&&n.style("cursor",o.data_selection_grouped?"pointer":null),o.tooltip_grouped||(a.hideXGridFocus(),a.hideTooltip(),o.data_selection_grouped||(a.unexpandCircles(i),a.unexpandBars(i)))}).filter(function(t){return a.isWithinShape(this,t)}).each(function(t){o.data_selection_enabled&&(o.data_selection_grouped||o.data_selection_isselectable(t))&&n.style("cursor","pointer"),o.tooltip_grouped||(a.showTooltip([t],this),a.showXGridFocus([t]),o.point_focus_expand_enabled&&a.expandCircles(i,t.id,!0),a.expandBars(i,t.id,!0))}))}).on("click",function(t){var e=t.index;!a.hasArcType()&&a.toggleShape&&(a.cancelClick?a.cancelClick=!1:(a.isStepType(t)&&"step-after"===o.line_step_type&&r.mouse(this)[0]<a.x(a.getXValue(t.id,e))&&(e-=1),a.main.selectAll("."+z.shape+"-"+e).each(function(t){(o.data_selection_grouped||a.isWithinShape(this,t))&&(a.toggleShape(this,t,e),a.config.data_onclick.call(a.api,t,this))})))}).call(o.data_selection_draggable&&a.drag?r.behavior.drag().origin(Object).on("drag",function(){a.drag(r.mouse(this))}).on("dragstart",function(){a.dragstart(r.mouse(this))}).on("dragend",function(){a.dragend()}):function(){})},pt.generateEventRectsForMultipleXs=function(t){function r(){o.svg.select("."+z.eventRect).style("cursor",null),o.hideXGridFocus(),o.hideTooltip(),o.unexpandCircles(),o.unexpandBars()}var o=this,s=o.d3,d=o.config;t.append("rect").attr("x",0).attr("y",0).attr("width",o.width).attr("height",o.height).attr("class",z.eventRect).on("mouseout",function(){o.config&&(o.hasArcType()||r())}).on("mousemove",function(){var t=o.filterTargetsToShow(o.data.targets),e,i,n,a;o.dragging||o.hasArcType(t)||(e=s.mouse(this),i=o.findClosestFromTargets(t,e),!o.mouseover||i&&i.id===o.mouseover.id||(d.data_onmouseout.call(o.api,o.mouseover),o.mouseover=undefined),i?(a=(n=o.isScatterType(i)||!d.tooltip_grouped?[i]:o.filterByX(t,i.x)).map(function(t){return o.addName(t)}),o.showTooltip(a,this),d.point_focus_expand_enabled&&o.expandCircles(i.index,i.id,!0),o.expandBars(i.index,i.id,!0),o.showXGridFocus(a),(o.isBarType(i.id)||o.dist(i,e)<d.point_sensitivity)&&(o.svg.select("."+z.eventRect).style("cursor","pointer"),o.mouseover||(d.data_onmouseover.call(o.api,i),o.mouseover=i))):r())}).on("click",function(){var t=o.filterTargetsToShow(o.data.targets),e,i;o.hasArcType(t)||(e=s.mouse(this),(i=o.findClosestFromTargets(t,e))&&(o.isBarType(i.id)||o.dist(i,e)<d.point_sensitivity)&&o.main.selectAll("."+z.shapes+o.getTargetSelectorSuffix(i.id)).selectAll("."+z.shape+"-"+i.index).each(function(){(d.data_selection_grouped||o.isWithinShape(this,i))&&(o.toggleShape(this,i,i.index),o.config.data_onclick.call(o.api,i,this))}))}).call(d.data_selection_draggable&&o.drag?s.behavior.drag().origin(Object).on("drag",function(){o.drag(s.mouse(this))}).on("dragstart",function(){o.dragstart(s.mouse(this))}).on("dragend",function(){o.dragend()}):function(){})},pt.dispatchEvent=function(t,e,i){var n=this,a="."+z.eventRect+(n.isMultipleX()?"":"-"+e),r=n.main.select(a).node(),o=r.getBoundingClientRect(),s=o.left+(i?i[0]:0),d=o.top+(i?i[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(t,!0,!0,window,0,s,d,s,d,!1,!1,!1,!1,0,null),r.dispatchEvent(c)},pt.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},pt.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},pt.updateSizeForLegend=function(t,e){var i=this,n=i.config,a={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?a.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?a.left:0}},pt.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},pt.updateLegendStep=function(t){this.legendStep=t},pt.updateLegendItemWidth=function(t){this.legendItemWidth=t},pt.updateLegendItemHeight=function(t){this.legendItemHeight=t},pt.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},pt.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},pt.opacityForLegend=function(t){return t.classed(z.legendItemHidden)?null:1},pt.opacityForUnfocusedLegend=function(t){return t.classed(z.legendItemHidden)?null:.3},pt.toggleFocusLegend=function(e,i){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+z.legendItem).filter(function(t){return 0<=e.indexOf(t)}).classed(z.legendItemFocused,i).transition().duration(100).style("opacity",function(){var t;return(i?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},pt.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+z.legendItem).classed(z.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},pt.showLegend=function(t){var e=this,i=e.config;i.legend_show||(i.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},pt.hideLegend=function(t){var e=this,i=e.config;i.legend_show&&g(t)&&(i.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},pt.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},pt.updateLegend=function(g,t,e){function f(t,e){return p.legendItemTextBox[e]||(p.legendItemTextBox[e]=p.getTextRect(t.textContent,z.legendItem,t)),p.legendItemTextBox[e]}function i(t,e,i){function n(t,e){e||(l=(u-b-c)/2)<w&&(l=(u-c)/2,b=0,V++),C[t]=V,L[V]=p.isLegendInset?10:l,A[t]=b,b+=c}var a=0===i,r=i===g.length-1,o=f(t,e),s=o.width+v+(!r||p.isLegendRight||p.isLegendInset?y:0)+_.legend_padding,d=o.height+x,c=p.isLegendRight||p.isLegendInset?d:s,u=p.isLegendRight||p.isLegendInset?p.getLegendHeight():p.getLegendWidth(),l,h;a&&(S=m=V=b=0),!_.legend_show||p.isLegendToShow(e)?(T[e]=s,P[e]=d,(!m||m<=s)&&(m=s),(!S||S<=d)&&(S=d),h=p.isLegendRight||p.isLegendInset?S:m,_.legend_equally?(Object.keys(T).forEach(function(t){T[t]=m}),Object.keys(P).forEach(function(t){P[t]=S}),(l=(u-h*g.length)/2)<w?(V=b=0,g.forEach(function(t){n(t)})):n(e,!0)):n(e)):T[e]=P[e]=C[e]=A[e]=0}var p=this,_=p.config,n,a,r,o,s,d,c,u,l,x=4,y=10,m=0,S=0,w=10,v=_.legend_item_tile_width+5,h,b=0,A={},T={},P={},L=[0],C={},V=0,G,E,I,O,R,D;g=g.filter(function(t){return!F(_.data_names[t])||null!==_.data_names[t]}),G=B(t=t||{},"withTransition",!0),E=B(t,"withTransitionForTransform",!0),p.isLegendInset&&(V=_.legend_inset_step?_.legend_inset_step:g.length,p.updateLegendStep(V)),p.isLegendRight?(n=function n(t){return m*C[t]},o=function o(t){return L[C[t]]+A[t]}):p.isLegendInset?(n=function n(t){return m*C[t]+10},o=function o(t){return L[C[t]]+A[t]}):(n=function n(t){return L[C[t]]+A[t]},o=function o(t){return S*C[t]}),a=function a(t,e){return n(t,e)+4+_.legend_item_tile_width},s=function s(t,e){return o(t,e)+9},r=function r(t,e){return n(t,e)},d=function d(t,e){return o(t,e)-5},c=function c(t,e){return n(t,e)-2},u=function u(t,e){return n(t,e)-2+_.legend_item_tile_width},l=function l(t,e){return o(t,e)+4},(h=p.legend.selectAll("."+z.legendItem).data(g).enter().append("g").attr("class",function(t){return p.generateClass(z.legendItem,t)}).style("visibility",function(t){return p.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){_.legend_item_onclick?_.legend_item_onclick.call(p,t):p.d3.event.altKey?(p.api.hide(),p.api.show(t)):(p.api.toggle(t),p.isTargetToShow(t)?p.api.focus(t):p.api.revert())}).on("mouseover",function(t){_.legend_item_onmouseover?_.legend_item_onmouseover.call(p,t):(p.d3.select(this).classed(z.legendItemFocused,!0),!p.transiting&&p.isTargetToShow(t)&&p.api.focus(t))}).on("mouseout",function(t){_.legend_item_onmouseout?_.legend_item_onmouseout.call(p,t):(p.d3.select(this).classed(z.legendItemFocused,!1),p.api.revert())})).append("text").text(function(t){return F(_.data_names[t])?_.data_names[t]:t}).each(function(t,e){i(this,t,e)}).style("pointer-events","none").attr("x",p.isLegendRight||p.isLegendInset?a:-200).attr("y",p.isLegendRight||p.isLegendInset?-200:s),h.append("rect").attr("class",z.legendItemEvent).style("fill-opacity",0).attr("x",p.isLegendRight||p.isLegendInset?r:-200).attr("y",p.isLegendRight||p.isLegendInset?-200:d),h.append("line").attr("class",z.legendItemTile).style("stroke",p.color).style("pointer-events","none").attr("x1",p.isLegendRight||p.isLegendInset?c:-200).attr("y1",p.isLegendRight||p.isLegendInset?-200:l).attr("x2",p.isLegendRight||p.isLegendInset?u:-200).attr("y2",p.isLegendRight||p.isLegendInset?-200:l).attr("stroke-width",_.legend_item_tile_height),D=p.legend.select("."+z.legendBackground+" rect"),p.isLegendInset&&0<m&&0===D.size()&&(D=p.legend.insert("g","."+z.legendItem).attr("class",z.legendBackground).append("rect")),I=p.legend.selectAll("text").data(g).text(function(t){return F(_.data_names[t])?_.data_names[t]:t}).each(function(t,e){i(this,t,e)}),(G?I.transition():I).attr("x",a).attr("y",s),O=p.legend.selectAll("rect."+z.legendItemEvent).data(g),(G?O.transition():O).attr("width",function(t){return T[t]}).attr("height",function(t){return P[t]}).attr("x",r).attr("y",d),R=p.legend.selectAll("line."+z.legendItemTile).data(g),(G?R.transition():R).style("stroke",p.color).attr("x1",c).attr("y1",l).attr("x2",u).attr("y2",l),D&&(G?D.transition():D).attr("height",p.getLegendHeight()-12).attr("width",m*(V+1)+10),p.legend.selectAll("."+z.legendItem).classed(z.legendItemHidden,function(t){return!p.isTargetToShow(t)}),p.updateLegendItemWidth(m),p.updateLegendItemHeight(S),p.updateLegendStep(V),p.updateSizes(),p.updateScales(),p.updateSvgSize(),p.transformAll(E,e),p.legendHasRendered=!0},pt.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",z.regions)},pt.updateRegion=function(t){var e=this,i=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+z.regions).selectAll("."+z.region).data(i.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},pt.redrawRegion=function(t){var e=this,i=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),n=e.regionX.bind(e),a=e.regionY.bind(e),r=e.regionWidth.bind(e),o=e.regionHeight.bind(e);return[(t?i.transition():i).attr("x",n).attr("y",a).attr("width",r).attr("height",o).style("fill-opacity",function(t){return L(t.opacity)?t.opacity:.1})]},pt.regionX=function(t){var e=this,i=e.config,n,a="y"===t.axis?e.y:e.y2;return n="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"start"in t?a(t.start):0:i.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},pt.regionY=function(t){var e=this,i=e.config,n,a="y"===t.axis?e.y:e.y2;return n="y"===t.axis||"y2"===t.axis?i.axis_rotated?0:"end"in t?a(t.end):0:i.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},pt.regionWidth=function(t){var e=this,i=e.config,n=e.regionX(t),a,r="y"===t.axis?e.y:e.y2;return(a="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?r(t.end):e.width:i.axis_rotated?e.width:"end"in t?e.x(e.isTimeSeries()?e.parseDate(t.end):t.end):e.width)<n?0:a-n},pt.regionHeight=function(t){var e=this,i=e.config,n=this.regionY(t),a,r="y"===t.axis?e.y:e.y2;return(a="y"===t.axis||"y2"===t.axis?i.axis_rotated?e.height:"start"in t?r(t.start):e.height:i.axis_rotated&&"end"in t?e.x(e.isTimeSeries()?e.parseDate(t.end):t.end):e.height)<n?0:a-n},pt.isRegionOnX=function(t){return!t.axis||"x"===t.axis},pt.getScale=function(t,e,i){return(i?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},pt.getX=function(t,e,i,n){var a=this,r=a.getScale(t,e,a.isTimeSeries()),o=i?r.domain(i):r,s;for(s in a.isCategorized()?(n=n||function(){return 0},r=function r(t,e){var i=o(t)+n(t);return e?i:Math.ceil(i)}):r=function r(t,e){var i=o(t);return e?i:Math.ceil(i)},o)r[s]=o[s];return r.orgDomain=function(){return o.domain()},a.isCategorized()&&(r.domain=function(t){return arguments.length?(o.domain(t),r):[(t=this.orgDomain())[0],t[1]+1]}),r},pt.getY=function(t,e,i){var n=this.getScale(t,e,this.isTimeSeriesY());return i&&n.domain(i),n},pt.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},pt.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},pt.updateScales=function(){var e=this,t=e.config,i=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,i?undefined:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,i?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,i?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,i?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,i?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),i||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},pt.selectPoint=function(t,e,i){var n=this,a=n.config,r=(a.axis_rotated?n.circleY:n.circleX).bind(n),o=(a.axis_rotated?n.circleX:n.circleY).bind(n),s=n.pointSelectR.bind(n);a.data_onselected.call(n.api,e,t.node()),n.main.select("."+z.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+z.selectedCircle+"-"+i).data([e]).enter().append("circle").attr("class",function(){return n.generateClass(z.selectedCircle,i)}).attr("cx",r).attr("cy",o).attr("stroke",function(){return n.color(e)}).attr("r",function(t){return 1.4*n.pointSelectR(t)}).transition().duration(100).attr("r",s)},pt.unselectPoint=function(t,e,i){var n=this;n.config.data_onunselected.call(n.api,e,t.node()),n.main.select("."+z.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+z.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},pt.togglePoint=function(t,e,i,n){t?this.selectPoint(e,i,n):this.unselectPoint(e,i,n)},pt.selectPath=function(t,e){var i=this;i.config.data_onselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.d3.rgb(i.color(e)).brighter(.75)})},pt.unselectPath=function(t,e){var i=this;i.config.data_onunselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.color(e)})},pt.togglePath=function(t,e,i,n){t?this.selectPath(e,i,n):this.unselectPath(e,i,n)},pt.getToggle=function(t,e){var i=this,n;return"circle"===t.nodeName?n=i.isStepType(e)?function n(){}:i.togglePoint:"path"===t.nodeName&&(n=i.togglePath),n},pt.toggleShape=function(t,e,i){var n=this,a=n.d3,r=n.config,o=a.select(t),s=o.classed(z.SELECTED),d=n.getToggle(t,e).bind(n);r.data_selection_enabled&&r.data_selection_isselectable(e)&&(r.data_selection_multiple||n.main.selectAll("."+z.shapes+(r.data_selection_grouped?n.getTargetSelectorSuffix(e.id):"")).selectAll("."+z.shape).each(function(t,e){var i=a.select(this);i.classed(z.SELECTED)&&d(!1,i.classed(z.SELECTED,!1),t,e)}),o.classed(z.SELECTED,!s),d(!s,o,e,i))},pt.initBar=function(){var t;this.main.select("."+z.chart).append("g").attr("class",z.chartBars)},pt.updateTargetsForBar=function(t){var e=this,i=e.config,n,a,r=e.classChartBar.bind(e),o=e.classBars.bind(e),s=e.classFocus.bind(e);(a=(n=e.main.select("."+z.chartBars).selectAll("."+z.chartBar).data(t).attr("class",function(t){return r(t)+s(t)})).enter().append("g").attr("class",r).style("pointer-events","none")).append("g").attr("class",o).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null})},pt.updateBar=function(t){var e=this,i=e.barData.bind(e),n=e.classBar.bind(e),a=e.initialOpacity.bind(e),r=function r(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+z.bars).selectAll("."+z.bar).data(i),e.mainBar.enter().append("path").attr("class",n).style("stroke",r).style("fill",r),e.mainBar.style("opacity",a),e.mainBar.exit().transition().duration(t).remove()},pt.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]},pt.getBarW=function(t,e){var i,n=this.config,a="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&a>n.bar_width_max?n.bar_width_max:a},pt.getBars=function(t,e){var i=this;return(e?i.main.selectAll("."+z.bars+i.getTargetSelectorSuffix(e)):i.main).selectAll("."+z.bar+(L(t)?"-"+t:""))},pt.expandBars=function(t,e,i){var n=this;i&&n.unexpandBars(),n.getBars(t,e).classed(z.EXPANDED,!0)},pt.unexpandBars=function(t){var e;this.getBars(t).classed(z.EXPANDED,!1)},pt.generateDrawBar=function(t,e){var i=this,o=i.config,s=i.generateGetBarPoints(t,e);return function(t,e){var i=s(t,e),n=o.axis_rotated?1:0,a=o.axis_rotated?0:1,r;return"M "+i[0][n]+","+i[0][a]+" L"+i[1][n]+","+i[1][a]+" L"+i[2][n]+","+i[2][a]+" L"+i[3][n]+","+i[3][a]+" z"}},pt.generateGetBarPoints=function(t,e){var o=this,i=e?o.subXAxis:o.xAxis,n=t.__max__+1,s=o.getBarW(i,n),d=o.getShapeX(s,n,t,!!e),c=o.getShapeY(!!e),u=o.getShapeOffset(o.isBarType,t,!!e),l=e?o.getSubYScale:o.getYScale;return function(t,e){var i=l.call(o,t.id)(0),n=u(t,e)||i,a=d(t),r=c(t);return o.config.axis_rotated&&(0<t.value&&r<i||t.value<0&&i<r)&&(r=i),[[a,n],[a,r-(i-n)],[a+s,r-(i-n)],[a+s,n]]}},pt.isWithinBar=function(t){var e=this.d3.mouse(t),i=t.getBoundingClientRect(),n=t.pathSegList.getItem(0),a=t.pathSegList.getItem(1),r=Math.min(n.x,a.x),o=Math.min(n.y,a.y),s,d,c=2,u,l=r+i.width+c,h=o+i.height+c,g=o-c;return r-c<e[0]&&e[0]<l&&g<e[1]&&e[1]<h},pt.getShapeIndices=function(t){var e=this,i=e.config,n={},a=0,r,o;return e.filterTargetsToShow(e.data.targets.filter(t,e)).forEach(function(t){for(r=0;r<i.data_groups.length;r++)if(!(i.data_groups[r].indexOf(t.id)<0))for(o=0;o<i.data_groups[r].length;o++)if(i.data_groups[r][o]in n){n[t.id]=n[i.data_groups[r][o]];break}A(n[t.id])&&(n[t.id]=a++)}),n.__max__=a-1,n},pt.getShapeX=function(i,n,a,t){var e=this,r=t?e.subX:e.x;return function(t){var e=t.id in a?a[t.id]:0;return t.x||0===t.x?r(t.x)-i*(n/2-e):0}},pt.getShapeY=function(i){var n=this;return function(t){var e;return(i?n.getSubYScale(t.id):n.getYScale(t.id))(t.value)}},pt.getShapeOffset=function(t,s,e){var d=this,c=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(t,d))),u=c.map(function(t){return t.id});return function(i,n){var a=e?d.getSubYScale(i.id):d.getYScale(i.id),r=a(0),o=r;return c.forEach(function(t){var e=d.isStepType(i)?d.convertValuesToStep(t.values):t.values;t.id!==i.id&&s[t.id]===s[i.id]&&u.indexOf(t.id)<u.indexOf(i.id)&&("undefined"!=typeof e[n]&&+e[n].x==+i.x||(n=-1,e.forEach(function(t,e){t.x===i.x&&(n=e)})),n in e&&0<=e[n].value*i.value&&(o+=a(e[n].value)-r))}),o}},pt.isWithinShape=function(t,e){var i=this,n=i.d3.select(t),a;return i.isTargetToShow(e.id)?"circle"===t.nodeName?a=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(a=!n.classed(z.bar)||i.isWithinBar(t)):a=!1,a},pt.getInterpolate=function(t){var e=this,i=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?i:e.isStepType(t)?e.config.line_step_type:"linear"},pt.initLine=function(){var t;this.main.select("."+z.chart).append("g").attr("class",z.chartLines)},pt.updateTargetsForLine=function(t){var i=this,e=i.config,n,a,r=i.classChartLine.bind(i),o=i.classLines.bind(i),s=i.classAreas.bind(i),d=i.classCircles.bind(i),c=i.classFocus.bind(i);(a=(n=i.main.select("."+z.chartLines).selectAll("."+z.chartLine).data(t).attr("class",function(t){return r(t)+c(t)})).enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),a.append("g").attr("class",s),a.append("g").attr("class",function(t){return i.generateClass(z.selectedCircles,t.id)}),a.append("g").attr("class",d).style("cursor",function(t){return e.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(e){i.main.selectAll("."+z.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+z.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},pt.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+z.lines).selectAll("."+z.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},pt.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},pt.generateDrawLine=function(t,s){var d=this,c=d.config,u=d.d3.svg.line(),i=d.generateGetLinePoints(t,s),l=s?d.getSubYScale:d.getYScale,e=function e(t){return(s?d.subxx:d.xx).call(d,t)},n=function n(t,e){return 0<c.data_groups.length?i(t,e)[0][1]:l.call(d,t.id)(t.value)};return u=c.axis_rotated?u.x(n).y(e):u.x(e).y(n),c.line_connectNull||(u=u.defined(function(t){return null!=t.value})),function(t){var e=c.line_connectNull?d.filterRemoveNull(t.values):t.values,i=s?d.x:d.subX,n=l.call(d,t.id),a=0,r=0,o;return d.isLineType(t)?c.data_regions[t.id]?o=d.lineWithRegions(e,i,n,c.data_regions[t.id]):(d.isStepType(t)&&(e=d.convertValuesToStep(e)),o=u.interpolate(d.getInterpolate(t))(e)):(e[0]&&(a=i(e[0].x),r=n(e[0].value)),o=c.axis_rotated?"M "+r+" "+a:"M "+a+" "+r),o||"M 0 0"}},pt.generateGetLinePoints=function(t,e){var o=this,s=o.config,i=t.__max__+1,d=o.getShapeX(0,i,t,!!e),c=o.getShapeY(!!e),u=o.getShapeOffset(o.isLineType,t,!!e),l=e?o.getSubYScale:o.getYScale;return function(t,e){var i=l.call(o,t.id)(0),n=u(t,e)||i,a=d(t),r=c(t);return s.axis_rotated&&(0<t.value&&r<i||t.value<0&&i<r)&&(r=i),[[a,r-(i-n)],[a,r-(i-n)],[a,r-(i-n)],[a,r-(i-n)]]}},pt.lineWithRegions=function(t,c,u,e){function i(t,e){var i;for(i=0;i<e.length;i++)if(e[i].start<t&&t<=e[i].end)return!0;return!1}function l(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var n=this,h=n.config,a=-1,r,o,s="M",d,g,f,p,_,x,y,m,S=n.isCategorized()?.5:0,w,v,b=[];if(F(e))for(r=0;r<e.length;r++)b[r]={},A(e[r].start)?b[r].start=t[0].x:b[r].start=n.isTimeSeries()?n.parseDate(e[r].start):e[r].start,A(e[r].end)?b[r].end=t[t.length-1].x:b[r].end=n.isTimeSeries()?n.parseDate(e[r].end):e[r].end;for(w=h.axis_rotated?function(t){return u(t.value)}:function(t){return c(t.x)},v=h.axis_rotated?function(t){return c(t.x)}:function(t){return u(t.value)},d=n.isTimeSeries()?function d(t,e,i,n){var a=t.x.getTime(),r=e.x-t.x,o=new Date(a+r*i),s=new Date(a+r*(i+n)),d;return l(d=h.axis_rotated?[[u(f(i)),c(o)],[u(f(i+n)),c(s)]]:[[c(o),u(f(i))],[c(s),u(f(i+n))]])}:function d(t,e,i,n){var a;return l(a=h.axis_rotated?[[u(f(i),!0),c(g(i))],[u(f(i+n),!0),c(g(i+n))]]:[[c(g(i),!0),u(f(i))],[c(g(i+n),!0),u(f(i+n))]])},r=0;r<t.length;r++){if(A(b)||!i(t[r].x,b))s+=" "+w(t[r])+" "+v(t[r]);else for(g=n.getScale(t[r-1].x+S,t[r].x+S,n.isTimeSeries()),f=n.getScale(t[r-1].value,t[r].value),p=c(t[r].x)-c(t[r-1].x),_=u(t[r].value)-u(t[r-1].value),m=2*(y=2/(x=Math.sqrt(
Math.pow(p,2)+Math.pow(_,2)))),o=y;o<=1;o+=m)s+=d(t[r-1],t[r],o,y);a=t[r].x}return s},pt.updateArea=function(t){var e=this,i=e.d3;e.mainArea=e.main.selectAll("."+z.areas).selectAll("."+z.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+i.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},pt.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},pt.generateDrawArea=function(t,e){var r=this,o=r.config,s=r.d3.svg.area(),i=r.generateGetAreaPoints(t,e),n=e?r.getSubYScale:r.getYScale,a=function a(t){return(e?r.subxx:r.xx).call(r,t)},d=function d(t,e){return 0<o.data_groups.length?i(t,e)[0][1]:n.call(r,t.id)(r.getAreaBaseValue(t.id))},c=function c(t,e){return 0<o.data_groups.length?i(t,e)[1][1]:n.call(r,t.id)(t.value)};return s=o.axis_rotated?s.x0(d).x1(c).y(a):s.x(a).y0(o.area_above?0:d).y1(c),o.line_connectNull||(s=s.defined(function(t){return null!==t.value})),function(t){var e=o.line_connectNull?r.filterRemoveNull(t.values):t.values,i=0,n=0,a;return r.isAreaType(t)?(r.isStepType(t)&&(e=r.convertValuesToStep(e)),a=s.interpolate(r.getInterpolate(t))(e)):(e[0]&&(i=r.x(e[0].x),n=r.getYScale(t.id)(e[0].value)),a=o.axis_rotated?"M "+n+" "+i:"M "+i+" "+n),a||"M 0 0"}},pt.getAreaBaseValue=function(){return 0},pt.generateGetAreaPoints=function(t,e){var o=this,s=o.config,i=t.__max__+1,d=o.getShapeX(0,i,t,!!e),c=o.getShapeY(!!e),u=o.getShapeOffset(o.isAreaType,t,!!e),l=e?o.getSubYScale:o.getYScale;return function(t,e){var i=l.call(o,t.id)(0),n=u(t,e)||i,a=d(t),r=c(t);return s.axis_rotated&&(0<t.value&&r<i||t.value<0&&i<r)&&(r=i),[[a,n],[a,r-(i-n)],[a,r-(i-n)],[a,n]]}},pt.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+z.circles).selectAll("."+z.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},pt.redrawCircle=function(t,e,i){var n=this.main.selectAll("."+z.selectedCircle);return[(i?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(i?n.transition(Math.random().toString()):n).attr("cx",t).attr("cy",e)]},pt.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},pt.updateCircleY=function(){var e=this,t,i;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),i=e.generateGetLinePoints(t),e.circleY=function(t,e){return i(t,e)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},pt.getCircles=function(t,e){var i=this;return(e?i.main.selectAll("."+z.circles+i.getTargetSelectorSuffix(e)):i.main).selectAll("."+z.circle+(L(t)?"-"+t:""))},pt.expandCircles=function(t,e,i){var n=this,a=n.pointExpandedR.bind(n);i&&n.unexpandCircles(),n.getCircles(t,e).classed(z.EXPANDED,!0).attr("r",a)},pt.unexpandCircles=function(t){var e=this,i=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(z.EXPANDED)}).classed(z.EXPANDED,!1).attr("r",i)},pt.pointR=function(t){var e=this,i=e.config;return e.isStepType(t)?0:h(i.point_r)?i.point_r(t):i.point_r},pt.pointExpandedR=function(t){var e=this,i=e.config;return i.point_focus_expand_enabled?i.point_focus_expand_r?i.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},pt.pointSelectR=function(t){var e=this,i=e.config;return h(i.point_select_r)?i.point_select_r(t):i.point_select_r?i.point_select_r:4*e.pointR(t)},pt.isWithinCircle=function(t,e){var i=this.d3,n=i.mouse(t),a=i.select(t),r=+a.attr("cx"),o=+a.attr("cy");return Math.sqrt(Math.pow(r-n[0],2)+Math.pow(o-n[1],2))<e},pt.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},pt.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},pt.getCurrentHeight=function(){var t=this,e=t.config,i=e.size_height?e.size_height:t.getParentHeight();return 0<i?i:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},pt.getCurrentPaddingTop=function(){var t=this,e=t.config,i=L(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(i+=t.getTitlePadding()),i},pt.getCurrentPaddingBottom=function(){var t=this.config;return L(t.padding_bottom)?t.padding_bottom:0},pt.getCurrentPaddingLeft=function(t){var e=this,i=e.config;return L(i.padding_left)?i.padding_left:i.axis_rotated?i.axis_x_show?Math.max(a(e.getAxisWidthByAxisId("x",t)),40):1:!i.axis_y_show||i.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:a(e.getAxisWidthByAxisId("y",t))},pt.getCurrentPaddingRight=function(){var t=this,e=t.config,i=10,n=t.isLegendRight?t.getLegendWidth()+20:0;return L(e.padding_right)?e.padding_right+1:e.axis_rotated?i+n:!e.axis_y2_show||e.axis_y2_inner?2+n+(t.axis.getY2AxisLabelPosition().isOuter?20:0):a(t.getAxisWidthByAxisId("y2"))+n},pt.getParentRectValue=function(t){for(var e=this.selectChart.node(),i;e&&"BODY"!==e.tagName;){try{i=e.getBoundingClientRect()[t]}catch(n){"width"===t&&(i=e.offsetWidth)}if(i)break;e=e.parentNode}return i},pt.getParentWidth=function(){return this.getParentRectValue("width")},pt.getParentHeight=function(){var t=this.selectChart.style("height");return 0<t.indexOf("px")?+t.replace("px",""):0},pt.getSvgLeft=function(t){var e=this,i=e.config,n=i.axis_rotated||!i.axis_rotated&&!i.axis_y_inner,a=i.axis_rotated?z.axisX:z.axisY,r=e.main.select("."+a).node(),o=r&&n?r.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),d=e.hasArcType(),c=o.right-s.left-(d?0:e.getCurrentPaddingLeft(t));return 0<c?c:0},pt.getAxisWidthByAxisId=function(t,e){var i=this,n=i.axis.getLabelPositionById(t);return i.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},pt.getHorizontalAxisHeight=function(t){var e=this,i=e.config,n=30;return"x"!==t||i.axis_x_show?"x"===t&&i.axis_x_height?i.axis_x_height:"y"!==t||i.axis_y_show?"y2"!==t||i.axis_y2_show?("x"===t&&!i.axis_rotated&&i.axis_x_tick_rotate&&(n=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-i.axis_x_tick_rotate)/180)),"y"===t&&i.axis_rotated&&i.axis_y_tick_rotate&&(n=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-i.axis_y_tick_rotate)/180)),n+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!i.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},pt.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},pt.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+z.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},pt.initSubchart=function(){var t=this,e=t.config,i=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),n=e.subchart_show?"visible":"hidden";i.style("visibility",n),i.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",z.chart),i.select("."+z.chart).append("g").attr("class",z.chartBars),i.select("."+z.chart).append("g").attr("class",z.chartLines),i.append("g").attr("clip-path",t.clipPath).attr("class",z.brush).call(t.brush),t.axes.subx=i.append("g").attr("class",z.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?n:"hidden")},pt.updateTargetsForSubchart=function(t){var e=this,i=e.context,n=e.config,a,r,o,s,d=e.classChartBar.bind(e),c=e.classBars.bind(e),u=e.classChartLine.bind(e),l=e.classLines.bind(e),h=e.classAreas.bind(e);n.subchart_show&&((o=(s=i.select("."+z.chartBars).selectAll("."+z.chartBar).data(t).attr("class",d)).enter().append("g").style("opacity",0).attr("class",d)).append("g").attr("class",c),(a=(r=i.select("."+z.chartLines).selectAll("."+z.chartLine).data(t).attr("class",u)).enter().append("g").style("opacity",0).attr("class",u)).append("g").attr("class",l),a.append("g").attr("class",h),i.selectAll("."+z.brush+" rect").attr(n.axis_rotated?"width":"height",n.axis_rotated?e.width2:e.height2))},pt.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+z.bars).selectAll("."+z.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},pt.redrawBarForSubchart=function(t,e,i){(e?this.contextBar.transition(Math.random().toString()).duration(i):this.contextBar).attr("d",t).style("opacity",1)},pt.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+z.lines).selectAll("."+z.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},pt.redrawLineForSubchart=function(t,e,i){(e?this.contextLine.transition(Math.random().toString()).duration(i):this.contextLine).attr("d",t).style("opacity",1)},pt.updateAreaForSubchart=function(t){var e=this,i=e.d3;e.contextArea=e.context.selectAll("."+z.areas).selectAll("."+z.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+i.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},pt.redrawAreaForSubchart=function(t,e,i){(e?this.contextArea.transition(Math.random().toString()).duration(i):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},pt.redrawSubchart=function(t,e,i,n,a,r,o){var s=this,d=s.d3,c=s.config,u,l,h;s.context.style("visibility",c.subchart_show?"visible":"hidden"),c.subchart_show&&(d.event&&"zoom"===d.event.type&&s.brush.extent(s.x.orgDomain()).update(),t&&(s.brush.empty()||s.brush.extent(s.x.orgDomain()).update(),u=s.generateDrawArea(a,!0),l=s.generateDrawBar(r,!0),h=s.generateDrawLine(o,!0),s.updateBarForSubchart(i),s.updateLineForSubchart(i),s.updateAreaForSubchart(i),s.redrawBarForSubchart(l,i,i),s.redrawLineForSubchart(h,i,i),s.redrawAreaForSubchart(u,i,i)))},pt.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},pt.transformContext=function(t,e){var i=this,n;e&&e.axisSubX?n=e.axisSubX:(n=i.context.select("."+z.axisX),t&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},pt.getDefaultExtent=function(){var t=this,e=t.config,i=h(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(i=[t.parseDate(i[0]),t.parseDate(i[1])]),i},pt.initText=function(){var t=this;t.main.select("."+z.chart).append("g").attr("class",z.chartTexts),t.mainText=t.d3.selectAll([])},pt.updateTargetsForText=function(t){var e=this,i,n,a=e.classChartText.bind(e),r=e.classTexts.bind(e),o=e.classFocus.bind(e);(n=(i=e.main.select("."+z.chartTexts).selectAll("."+z.chartText).data(t).attr("class",function(t){return a(t)+o(t)})).enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none")).append("g").attr("class",r)},pt.updateText=function(t){var n=this,e=n.config,i=n.barOrLineData.bind(n),a=n.classText.bind(n);n.mainText=n.main.selectAll("."+z.texts).selectAll("."+z.text).data(i),n.mainText.enter().append("text").attr("class",a).attr("text-anchor",function(t){return e.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return n.color(t)}).style("fill-opacity",0),n.mainText.text(function(t,e,i){return n.dataLabelFormat(t.id)(t.value,t.id,e,i)}),n.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},pt.redrawText=function(t,e,i,n){return[(n?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",i?0:this.opacityForText.bind(this))]},pt.getTextRect=function(t,e,i){var n=this.d3.select("body").append("div").classed("c3",!0),a=n.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),r=this.d3.select(i).style("font"),o;return a.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",r).text(t).each(function(){o=this.getBoundingClientRect()}),n.remove(),o},pt.generateXYForText=function(t,e,i,n){var a=this,r=a.generateGetAreaPoints(t,!1),o=a.generateGetBarPoints(e,!1),s=a.generateGetLinePoints(i,!1),d=n?a.getXForText:a.getYForText;return function(t,e){var i=a.isAreaType(t)?r:a.isBarType(t)?o:s;return d.call(a,i(t,e),t,this)}},pt.getXForText=function(t,e,i){var n=this,a=i.getBoundingClientRect(),r,o;return n.config.axis_rotated?(o=n.isBarType(e)?4:6,r=t[2][1]+o*(e.value<0?-1:1)):r=n.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>n.width?r=n.width-a.width:r<0&&(r=4)),r},pt.getYForText=function(t,e,i){var n=this,a=i.getBoundingClientRect(),r;return n.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*a.height)/2:(r=t[2][1],e.value<0||0===e.value&&!n.hasPositiveValue?(r+=a.height,n.isBarType(e)&&n.isSafari()?r-=3:!n.isBarType(e)&&n.isChrome()&&(r+=3)):r+=n.isBarType(e)?-3:-6),null!==e.value||n.config.axis_rotated||(r<a.height?r=a.height:r>this.height&&(r=this.height-4)),r},pt.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)},pt.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},pt.xForTitle=function(){var t=this,e=t.config,i=e.title_position||"left",n;return n=0<=i.indexOf("right")?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:0<=i.indexOf("center")?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},pt.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},pt.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},pt.initTooltip=function(){var e=this,i=e.config,t;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",z.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),i.tooltip_init_show){if(e.isTimeSeries()&&c(i.tooltip_init_x)){for(i.tooltip_init_x=e.parseDate(i.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-i.tooltip_init_x!=0;t++);i.tooltip_init_x=t}e.tooltip.html(i.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[i.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",i.tooltip_init_position.top).style("left",i.tooltip_init_position.left).style("display","block")}},pt.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&e.tooltip_order===undefined){var i=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(i=i.reverse()),function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}var n=e.tooltip_order;n===undefined&&(n=e.data_order);var a=function a(t){return t?t.value:null};if(c(n)&&"asc"===n.toLowerCase())return function(t,e){return a(t)-a(e)};if(c(n)&&"desc"===n.toLowerCase())return function(t,e){return a(e)-a(t)};if(h(n)){var r=n;return e.tooltip_order===undefined&&(r=function r(t,e){return n(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),r}return o(n)?function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}:void 0},pt.getTooltipContent=function(t,e,i,n){var a=this,r=a.config,o=r.tooltip_format_title||e,s=r.tooltip_format_name||function(t){return t},d=r.tooltip_format_value||i,c,u,l,h,g,f,p=this.getTooltipSortFunction();for(p&&t.sort(p),u=0;u<t.length;u++)if(t[u]&&(t[u].value||0===t[u].value)&&(c||(l=_(o?o(t[u].x):t[u].x),c="<table class='"+a.CLASS.tooltip+"'>"+(l||0===l?"<tr><th colspan='2'>"+l+"</th></tr>":"")),(h=_(d(t[u].value,t[u].ratio,t[u].id,t[u].index,t)))!==undefined)){if(null===t[u].name)continue;g=_(s(t[u].name,t[u].ratio,t[u].id,t[u].index)),f=a.levelColor?a.levelColor(t[u].value):n(t[u].id),c+="<tr class='"+a.CLASS.tooltipName+"-"+a.getTargetSelectorSuffix(t[u].id)+"'>",c+="<td class='name'><span style='background-color:"+f+"'></span>"+g+"</td>",c+="<td class='value'>"+h+"</td>",c+="</tr>"}return c+"</table>"},pt.tooltipPosition=function(t,e,i,n){var a=this,r=a.config,o=a.d3,s,d,c,u,l,h=a.hasArcType(),g=o.mouse(n);return h?(d=(a.width-(a.isLegendRight?a.getLegendWidth():0))/2+g[0],u=a.height/2+g[1]+20):(s=a.getSvgLeft(!0),r.axis_rotated?(c=(d=s+g[0]+100)+e,l=a.currentWidth-a.getCurrentPaddingRight(),u=a.x(t[0].x)+20):(c=(d=s+a.getCurrentPaddingLeft(!0)+a.x(t[0].x)+20)+e,l=s+a.currentWidth-a.getCurrentPaddingRight(),u=g[1]+15),l<c&&(d-=c-l+20),u+i>a.currentHeight&&(u-=i+30)),u<0&&(u=0),{top:u,left:d}},pt.showTooltip=function(t,e){var i=this,n=i.config,a,r,o,s=i.hasArcType(),d=t.filter(function(t){return t&&L(t.value)}),c=n.tooltip_position||pt.tooltipPosition;0!==d.length&&n.tooltip_show&&(i.tooltip.html(n.tooltip_contents.call(i,t,i.axis.getXAxisTickFormat(),i.getYFormat(s),i.color)).style("display","block"),a=i.tooltip.property("offsetWidth"),r=i.tooltip.property("offsetHeight"),o=c.call(this,d,a,r,e),i.tooltip.style("top",o.top+"px").style("left",o.left+"px"))},pt.hideTooltip=function(){this.tooltip.style("display","none")},pt.setTargetType=function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},pt.hasType=function(i,t){var e=this,n=e.config.data_types,a=!1;return(t=t||e.data.targets)&&t.length?t.forEach(function(t){var e=n[t.id];(e&&0<=e.indexOf(i)||!e&&"line"===i)&&(a=!0)}):Object.keys(n).length?Object.keys(n).forEach(function(t){n[t]===i&&(a=!0)}):a=e.config.data_type===i,a},pt.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},pt.isLineType=function(t){var e=this.config,i=c(t)?t:t.id;return!e.data_types[i]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[i])},pt.isStepType=function(t){var e=c(t)?t:t.id;return 0<=["step","area-step"].indexOf(this.config.data_types[e])},pt.isSplineType=function(t){var e=c(t)?t:t.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[e])},pt.isAreaType=function(t){var e=c(t)?t:t.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[e])},pt.isBarType=function(t){var e=c(t)?t:t.id;return"bar"===this.config.data_types[e]},pt.isScatterType=function(t){var e=c(t)?t:t.id;return"scatter"===this.config.data_types[e]},pt.isPieType=function(t){var e=c(t)?t:t.id;return"pie"===this.config.data_types[e]},pt.isGaugeType=function(t){var e=c(t)?t:t.id;return"gauge"===this.config.data_types[e]},pt.isDonutType=function(t){var e=c(t)?t:t.id;return"donut"===this.config.data_types[e]},pt.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},pt.lineData=function(t){return this.isLineType(t)?[t]:[]},pt.arcData=function(t){return this.isArcType(t.data)?[t]:[]},pt.barData=function(t){return this.isBarType(t)?t.values:[]},pt.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},pt.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},pt.isInterpolationType=function(t){return 0<=["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)},pt.isSafari=function(){var t=window.navigator.userAgent;return 0<=t.indexOf("Safari")&&t.indexOf("Chrome")<0},pt.isChrome=function(){var t;return 0<=window.navigator.userAgent.indexOf("Chrome")},pt.initZoom=function(){var i=this,e=i.d3,n=i.config,a;i.zoom=e.behavior.zoom().on("zoomstart",function(){a=e.event.sourceEvent,i.zoom.altDomain=e.event.sourceEvent.altKey?i.x.orgDomain():null,n.zoom_onzoomstart.call(i.api,e.event.sourceEvent)}).on("zoom",function(){i.redrawForZoom.call(i)}).on("zoomend",function(){var t=e.event.sourceEvent;t&&a.clientX===t.clientX&&a.clientY===t.clientY||(i.redrawEventRect(),i.updateZoom(),n.zoom_onzoomend.call(i.api,i.x.orgDomain()))}),i.zoom.scale=function(t){return n.axis_rotated?this.y(t):this.x(t)},i.zoom.orgScaleExtent=function(){var t=n.zoom_extent?n.zoom_extent:[1,10];return[t[0],Math.max(i.getMaxDataCount()/t[1],t[1])]},i.zoom.updateScaleExtent=function(){var t=D(i.x.orgDomain())/D(i.getZoomDomain()),e=this.orgScaleExtent();return this.scaleExtent([e[0]*t,e[1]*t]),this}},pt.getZoomDomain=function(){var t=this,e=t.config,i=t.d3,n,a;return[i.min([t.orgXDomain[0],e.zoom_x_min]),i.max([t.orgXDomain[1],e.zoom_x_max])]},pt.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+z.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+z.eventRect).call(e).on("dblclick.zoom",null)},pt.redrawForZoom=function(){var t=this,e=t.d3,i=t.config,n=t.zoom,a=t.x;if(i.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&n.altDomain)return a.domain(n.altDomain),void n.scale(a).updateScaleExtent();t.isCategorized()&&a.orgDomain()[0]===t.orgXDomain[0]&&a.domain([t.orgXDomain[0]-1e-10,a.orgDomain()[1]]),t.redraw({withTransition:!1,withY:i.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),i.zoom_onzoom.call(t.api,a.orgDomain())}},gt});